!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DemoCollaboration=e():t.DemoCollaboration=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=62)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(57),i=n(188),a=Object.prototype.toString;function s(t){return"[object Array]"===a.call(t)}function u(t){return null!==t&&"object"===(void 0===t?"undefined":r(t))}function c(t){return"[object Function]"===a.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"===(void 0===t?"undefined":r(t))||s(t)||(t=[t]),s(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return u(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,o){"object"===r(e[o])&&"object"===(void 0===n?"undefined":r(n))?e[o]=t(e[o],n):e[o]=n}for(var o=0,i=arguments.length;o<i;o++)l(arguments[o],n);return e},extend:function(t,e,n){return l(e,function(e,r){t[r]=n&&"function"==typeof e?o(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(20),i=Symbol("id"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r[i]=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.id=this.id,t}},{key:"id",get:function(){return this[i]}}]),e}();t.exports=a},function(t,e,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=
/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach(function(e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(n){if(!(n in t.prototype)){var r=Object.getOwnPropertyDescriptor(e,n);r.enumerable=!1,Object.defineProperty(t.prototype,n,r)}})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPhoneSize=function(){return window.innerWidth<=r.mobile},e.isTabletSize=function(){return window.innerWidth>r.mobile&&window.innerWidth<=r.tablet},e.isDesktop=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type,e=void 0===t?"standard":t;if("standard"===e)return window.innerWidth>r.tablet;if("small-up"===e)return window.innerWidth>=r.smallDesktop},e.isMobile=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)};var r={mobile:767,tablet:1279,smallDesktop:1024}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_TIMEOUT=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(64),a=v(n(65)),s=v(n(3)),u=v(n(11)),c=v(n(96)),l=v(n(138)),f=v(n(139)),p=v(n(140)),h=v(n(10)),d=v(n(144)),y=v(n(21));function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=Symbol("connect"),g=Symbol("hostname"),w=Symbol("path"),_=Symbol("port"),E=Symbol("token"),O=Symbol("socket"),S=Symbol("options"),k=Symbol("serviceChannels"),T=e.CONNECT_TIMEOUT=5e3,C=443,j=(m(r={},i.SCSocket.CLOSED,"disconnected"),m(r,i.SCSocket.CONNECTING,"connecting"),m(r,i.SCSocket.OPEN,"connected"),r),x=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.connect;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Api address must be provided");if(!n)throw new Error("Token must be provided");var s=(0,a.default)(e.replace(/^(?!(?:\w+:)?\/\/)/,"wss://"));if(function(t){return!t.hostname||t.protocol&&(!t.slashes||!("wss:"===t.protocol||"ws:"===t.protocol))}(s))throw new Error("Wrong apiAddress schema. It must be [ws(s)://]hostname[:port].");this[g]=s.hostname,this[w]=s.pathname,this[_]=parseInt(s.port)||C,this[E]=n,this[b]=o,this[S]=r,this[k]=new Map,this._serviceRegister=new p.default(this),this.set("state","disconnected"),this.set("sessionId",void 0),this.set("me",void 0),this.set("pendingReconnect",void 0),this.set("pendingReconnectTimeout",void 0),this.set("connectAttempts",void 0)}return o(t,[{key:"disconnect",value:function(){this.state===t.STATE_CONNECTED&&(this[O].disconnect(),this[O]=void 0)}},{key:"reconnect",value:function(){return this.state===t.STATE_DISCONNECTED?this._connect():Promise.resolve()}},{key:"_connect",value:function(){var t=this;return new Promise(function(e,n){var r=t,o=t._setupSocket(),a=setTimeout(function(){r.disconnect(),n("Connect timeout")},T);function s(t){if(!t.isAuthenticated)return clearTimeout(a),o.off("identity",u),r.disconnect(),n('Authentication error: "'+t.authError.toString()+'".');o.authToken.user||(clearTimeout(a),l(r.sessionId)),o.off("connectAbort",c)}function u(t){clearTimeout(a),l(t.id)}function c(t){clearTimeout(a),o.off("connect",s),o.off("identity",u),n("Could not connect. Reason: "+i.SCSocket.errorStatuses[t]+".")}function l(t){clearTimeout(a),h.default.get(r,t).then(function(t){r.me=t,e()}).catch(n)}o.once("connect",s),o.once("connectAbort",c),o.on("identity",u),o.connect()})}},{key:"_setupSocket",value:function(){var e=this;if(this[O])return this[O];var n=this[b]({hostname:this[g],secure:this[_]===C,path:this[w],port:this[_],authEngine:new l.default(this[E]?this[E].value:""),multiplex:!1,autoConnect:!1,cloneData:!1,autoReconnect:(0,c.default)(this[S],"autoReconnect",!0),autoReconnectOptions:{initialDelay:100,randomness:500,multiplier:2,maxDelay:6e4},disconnectOnUnload:(0,c.default)(this[S],"disconnectOnUnload",!0),rejectUnauthorized:(0,c.default)(this[S],"rejectUnauthorized",!0)});return n.on("connecting",function(){P(e,n),e.state=t.STATE_CONNECTING}),n.on("connect",function(){P(e,n),e.state=t.STATE_CONNECTED,e.sessionId=n.id}),n.on("connectAbort",function(){P(e,n),e.state=t.STATE_DISCONNECTED,e._destroyAllChannels(n),e.fire("connectAbort")}),n.on("disconnect",function(){P(e,n),e.state=t.STATE_DISCONNECTED,e._destroyAllChannels(n)}),n.on("error",function(t){return e._errorHandler(t)}),this[E]&&this[E].on("change:value",function(t,e,r){n.authenticate(r)}),this[O]=n,n}},{key:"_sendRequest",value:function(t,e){var n=this;if(!t)return Promise.reject("ServiceName must be provided.");if(!this[O]||this[O].getState()!==i.SCSocket.OPEN)return Promise.reject("Not connected.");var r=this[O];return new Promise(function(o,i){var a=new d.default(t,e);r.emit("request",a,function(t,e){if(t){if(t._csError){var r=y.default.fromJSON(t);return r.isFatal&&n.fire(r.eventName,r),i(r)}return i(t)}o(e)})})}},{key:"_getServiceChannel",value:function(t){var e=this[O].authToken.iss+":"+t;if(!this[k].has(e)){var n=this[O].subscribe(e);this[k].set(e,new f.default(n,this))}return this[k].get(e)}},{key:"_errorHandler",value:function(t){console.warn("WebSocket connection encountered some error. Error code: "+t.code+". Error message: "+t.message)}},{key:"_destroyAllChannels",value:function(t){for(var e in t.channels)t.destroyChannel(e);this[k].clear()}}],[{key:"connect",value:async function(e){var n=new t(arguments.length>1&&void 0!==arguments[1]?arguments[1]:WEB_SOCKET_GATEWAY_URL,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments[3]);return await n._connect(),n}},{key:"STATE_DISCONNECTED",get:function(){return j[i.SCSocket.CLOSED]}},{key:"STATE_CONNECTING",get:function(){return j[i.SCSocket.CONNECTING]}},{key:"STATE_CONNECTED",get:function(){return j[i.SCSocket.OPEN]}}]),t}();function P(t,e){t.pendingReconnect=e.pendingReconnect,t.pendingReconnectTimeout=e.pendingReconnectTimeout,t.connectAttempts=e.connectAttempts}(0,s.default)(x,u.default),e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=n(39)(Object,"create");t.exports=r},function(t,e,n){"use strict";var r=n(124);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){"use strict";var r=n(130);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(143));var i=Symbol("attributes"),a=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[i]=new Map;var r=!0,o=!1,a=void 0;try{for(var s,u=function(){var t=s.value;e[i].set(t,n[t]),Object.defineProperty(e,t,{enumerable:!0,configurable:!1,get:function(){return e[i].get(t)}})},c=Object.keys(n)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)u()}catch(t){o=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}}return r(t,null,[{key:"fromData",value:function(e){return new t(e)}},{key:"get",value:async function(t,e){var n=await t._serviceRegister.get(e,this,s);return n&&t._serviceRegister.register(this._SERVICE,e,n),n}},{key:"_SERVICE",get:function(){return"users"}}]),t}();async function s(t,e){var n=await t._sendRequest(a._SERVICE,new o.default(e));if(n)return a.fromData(n)}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=u(n(12)),i=u(n(30)),a=u(n(71)),s=u(n(6));function u(t){return t&&t.__esModule?t:{default:t}}
/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */
var c=Symbol("observableProperties"),l=Symbol("boundObservables"),f=Symbol("boundProperties"),p={set:function(t,e){var n=this;if((0,s.default)(t))Object.keys(t).forEach(function(e){n.set(e,t[e])},this);else{h(this);var r=this[c];if(t in this&&!r.has(t))throw new i.default("observable-set-cannot-override: Cannot override an existing property.");Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:function(){return r.get(t)},set:function(e){var n=r.get(t);n===e&&r.has(t)||(r.set(t,e),this.fire("change:"+t,t,e,n))}}),this[t]=e}},bind:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length||!v(e))throw new i.default("observable-bind-wrong-properties: All properties must be strings.");if(new Set(e).size!==e.length)throw new i.default("observable-bind-duplicate-properties: Properties must be unique.");h(this);var r=this[f];e.forEach(function(t){if(r.has(t))throw new i.default("observable-bind-rebind: Cannot bind the same property more that once.")});var o=new Map;return e.forEach(function(t){var e={property:t,to:[]};r.set(t,e),o.set(t,e)}),{to:d,toMany:y,_observable:this,_bindProperties:e,_to:[],_bindings:o}},unbind:function(){var t=this;if(c in this){for(var e=this[f],n=this[l],r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];if(o.length){if(!v(o))throw new i.default("observable-unbind-wrong-properties: Properties must be strings.");o.forEach(function(r){var o=e.get(r);if(o){var i=void 0,a=void 0,s=void 0,u=void 0;o.to.forEach(function(e){i=e[0],a=e[1],s=n.get(i),(u=s[a]).delete(o),u.size||delete s[a],Object.keys(s).length||(n.delete(i),t.stopListening(i,"change"))}),e.delete(r)}})}else n.forEach(function(e,n){t.stopListening(n,"change")}),n.clear(),e.clear()}},decorate:function(t){var e=this,n=this[t];if(!n)throw new i.default("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",{object:this,methodName:t});this.on(t,function(t,r){t.return=n.apply(e,r)}),this[t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.fire(t,n)}}};function h(t){c in t||(Object.defineProperty(t,c,{value:new Map}),Object.defineProperty(t,l,{value:new Map}),Object.defineProperty(t,f,{value:new Map}))}function d(){var t=this,e=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new i.default("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");var o={to:[]},a=void 0;"function"==typeof e[e.length-1]&&(o.callback=e.pop());return e.forEach(function(t){if("string"==typeof t)a.properties.push(t);else{if("object"!=(void 0===t?"undefined":r(t)))throw new i.default("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");a={observable:t,properties:[]},o.to.push(a)}}),o}.apply(void 0,arguments),n=Array.from(this._bindings.keys()),o=n.length;if(!e.callback&&e.to.length>1)throw new i.default("observable-bind-to-no-callback: Binding multiple observables only possible with callback.");if(o>1&&e.callback)throw new i.default("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.");e.to.forEach(function(e){if(e.properties.length&&e.properties.length!==o)throw new i.default("observable-bind-to-properties-length: The number of properties must match.");e.properties.length||(e.properties=t._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),function(t,e){e.forEach(function(e){var n=t[l],r=void 0;n.get(e.observable)||t.listenTo(e.observable,"change",function(o,i){(r=n.get(e.observable)[i])&&r.forEach(function(e){m(t,e.property)})})})}(this._observable,this._to),function(t){var e=void 0;t._bindings.forEach(function(n,r){t._to.forEach(function(o){e=o.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([o.observable,e]),function(t,e,n,r){var o=t[l],i=o.get(n),a=i||{};a[r]||(a[r]=new Set);a[r].add(e),i||o.set(n,a)}(t._observable,n,o.observable,e)})})}(this),this._bindProperties.forEach(function(e){m(t._observable,e)})}function y(t,e,n){if(this._bindings.size>1)throw new i.default("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().");this.to.apply(this,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(function(t,e){var n=t.map(function(t){return[t,e]});return Array.prototype.concat.apply([],n)}(t,e)).concat([n]))}function v(t){return t.every(function(t){return"string"==typeof t})}function m(t,e){var n=t[f].get(e),r=void 0;r=n.callback?n.callback.apply(t,n.to.map(function(t){return t[0][t[1]]})):(r=n.to[0])[0][r[1]],t.hasOwnProperty(e)?t[e]=r:t.set(e,r)}(0,a.default)(p,o.default),e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();
/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */e._getEmitterListenedTo=function(t,e){if(t[c]&&t[c][e])return t[c][e].emitter;return null},e._setEmitterId=p,e._getEmitterId=h;var o=s(n(68)),i=s(n(29)),a=s(n(70));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var c=Symbol("listeningTo"),l=Symbol("emitterId"),f={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,t,e,n)},once:function(t,e,n){this.listenTo(this,t,function(t){t.off();for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.call.apply(e,[this,t].concat(r))},n)},off:function(t,e){this.stopListening(this,t,e)},listenTo:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0,i=void 0;this[c]||(this[c]={});var s=this[c];h(t)||p(t);var u=h(t);(o=s[u])||(o=s[u]={emitter:t,callbacks:{}}),(i=o.callbacks[e])||(i=o.callbacks[e]=[]),i.push(n),function(t,e){var n=d(t);if(n[e])return;var r=e,o=null,i=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){var a=!0,s=!1,u=void 0;try{for(var c,l=i[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;f.callbacks=n[r].callbacks.slice()}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}n[r].childEvents.push(o)}}(t,e);var l=y(t,e),f=a.default.get(r.priority),v={callback:n,priority:f},m=!0,b=!1,g=void 0;try{for(var w,_=l[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){for(var E=w.value,O=!1,S=0;S<E.length;S++)if(E[S].priority<f){E.splice(S,0,v),O=!0;break}O||E.push(v)}}catch(t){b=!0,g=t}finally{try{!m&&_.return&&_.return()}finally{if(b)throw g}}},stopListening:function(t,e,n){var r=this[c],o=t&&h(t),i=r&&o&&r[o],a=i&&e&&i.callbacks[e];if(!(!r||t&&!i||e&&!a))if(n)m(t,e,n);else if(a){for(;n=a.pop();)m(t,e,n);delete i.callbacks[e]}else if(i){for(e in i.callbacks)this.stopListening(t,e);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[c]}},fire:function(t){var e=t instanceof o.default?t:new o.default(this,t),n=e.name,r=function t(e,n){var r=void 0;if(!e._events||!(r=e._events[n])||!r.callbacks.length)return n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null;return r.callbacks}(this,n);e.path.push(this);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(r){var u=[e].concat(a);r=Array.from(r);for(var c=0;c<r.length&&(r[c].callback.apply(this,u),e.off.called&&(delete e.off.called,m(this,n,r[c].callback)),!e.stop.called);c++);}if(this._delegations){var l=this._delegations.get(n),f=this._delegations.get("*");l&&v(l,e,a),f&&v(f,e,a)}return e.return},delegate:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return{to:function(e,r){t._delegations||(t._delegations=new Map);var o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=t._delegations.get(c);l?l.set(e,r):t._delegations.set(c,new Map([[e,r]]))}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}}},stopDelegating:function(t,e){if(this._delegations)if(t)if(e){var n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function p(t,e){t[l]||(t[l]=e||(0,i.default)())}function h(t){return t[l]}function d(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function y(t,e){var n=d(t)[e];if(!n)return[];for(var r=[n.callbacks],o=0;o<n.childEvents.length;o++){var i=y(t,n.childEvents[o]);r=r.concat(i)}return r}function v(t,e,n){var i=!0,a=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=r(c.value,2),p=f[0],h=f[1];h?"function"==typeof h&&(h=h(e.name)):h=e.name;var d=new o.default(e.source,h);d.path=[].concat(u(e.path)),p.fire.apply(p,[d].concat(u(n)))}}catch(t){a=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}}function m(t,e,n){var r=y(t,e),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)for(var c=s.value,l=0;l<c.length;l++)c[l].callback==n&&(c.splice(l,1),l--)}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(76)),o=a(n(33)),i=a(n(34));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return null!=t&&(0,i.default)((0,r.default)(t))&&!(0,o.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}},function(t,e,n){"use strict";var r=Array.isArray;t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(38),i=n(103),a="[object Symbol]";t.exports=function(t){return"symbol"==(void 0===t?"undefined":r(t))||i(t)&&o(t)==a}},function(t,e,n){"use strict";var r=n(18).Symbol;t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(100),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":r(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=Symbol("type"),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"raw";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[o]=e}return r(t,[{key:"toJSON",value:function(){return{_type:this.type}}},{key:"type",get:function(){return this[o]}}]),t}();t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(t){function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.constructor=e,a.__proto__=e.prototype,a.code=t,a.data=r,a.type=o,a.isFatal=i,a.message="["+a.type+"] "+a.code,n&&(a.message+=": "+n),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),r(e,[{key:"eventName",get:function(){return"error:"+(this.isFatal?"fatal:":"")+this.code}}],[{key:"fromJSON",value:function(t){return new e(t.code,t.message,t.data,t.type,t.isFatal)}}]),e}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=_(n(41)),a=_(n(44)),s=n(45),u=_(s),c=_(n(154)),l=_(n(25)),f=_(n(26)),p=_(n(46)),h=_(n(47)),d=_(n(48)),y=_(n(155)),v=_(n(156)),m=_(n(157)),b=_(n(23)),g=_(n(5)),w=_(n(21));function _(t){return t&&t.__esModule?t:{default:t}}var E=Symbol("id"),O=Symbol("wsGateway"),S=Symbol("isConnected"),k=Symbol("version"),T=Symbol("serverVersion"),C=Symbol("queue"),j=Symbol("isQueueProcessing"),x=Symbol("connectPromise"),P=Symbol("applyExternalPromise"),A=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{idProperty:"_id"}));return n[E]=t||i.default.v4(),n[S]=!1,n[x]=void 0,n[k]=0,n[T]=0,n[C]=[],n[j]=!1,n[P]=Promise.resolve(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"getId",value:function(){return this[E]}},{key:"isConnected",value:function(){return this[S]}},{key:"connect",value:function(t){if(this.isConnected())return Promise.resolve();if(this[x])return this[x];if(t.state!==g.default.STATE_CONNECTED)throw new w.default("webSocketGatewayNotConnected","Web Socket Gateway is not connected.",{state:t.state});return this[O]=t,this[x]=this._connect(t),this[x]}},{key:"add",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.constructor._getItemFactory();if(!(t instanceof a))throw new w.default("invalidItem","Object does not match collection.");void 0===n&&(n=this._items.length),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n);var u=""+s.EVENT_CHANGE+s.EVENT_SEPARATOR,c=function(e,n,o,i){var a=""+u+t._id+s.EVENT_SEPARATOR+e.name.substr(u.length);r.fire(a,t,n,o,i)};this.listenTo(t,s.EVENT_CHANGE,c);this.on("remove",function e(n,o){t===o&&(r.stopListening(t,s.EVENT_CHANGE,c),r.off("remove",e,r))}),i||(this._enqueueLocalOperation(new l.default(this.getId(),this[k],t._id,n)),this.isConnected()&&(t.isConnected()?Promise.resolve():t.connect(this[O])).then(function(){return r._sendQueueToServer()}))}},{key:"remove",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getIndex("number"==typeof t?this.get(t):t),i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this,t);return n||(this._enqueueLocalOperation(new f.default(this.getId(),this[k],i._id,r)),this._sendQueueToServer()),i}},{key:"getState",value:function(){return{id:this.getId(),state:{version:this[k],items:this.map(function(t){return t.getState()})}}}},{key:"_setStateFromServer",value:async function(t){var e=this;this[k]=t.version,this._setServerVersion(t.version);var n=[];if(Object.keys(t.items).forEach(function(e){return n.push(t.items[e].id)}),0!==this.length||0!==n.length){var r=t.items;this.filter(function(t){return!n.includes(t.getId())}).forEach(function(t){return e.remove(t,!0)});var o=this[O],i=this.constructor._getItemFactory(),a=!0,s=!1,u=void 0;try{for(var c,l=Object.keys(r)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,p=r[f],h=this.getIndex(p.id),d=parseInt(f);if(h>=0){var y=h!==d,v=y?this.remove(h,!0):this.get(h);await b(v,p),y&&this.add(v,d,!0)}else{var m=o._serviceRegister.has(o,p.id,i)?await i.get(o,p.id):i.create(p.id);await b(m,p),this.add(m,d,!0)}}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}}async function b(t,e){t.isConnected()||(t._connectToChannel(o,e.channel,e.state),await t._setStateFromServer(e.state))}}},{key:"_connectToChannel",value:function(t,e){var n=this;this[O]=t,t._serviceRegister.register(this.constructor._SERVICE,this.getId(),this);var r=t._getServiceChannel(this.constructor._SERVICE);this.listenTo(r,e,async function(t,e){var r=d.default.createFromObject(e);r&&await n._applyExternalOperations([r])}),this[S]=!0,this.fire("connected"),this.listenTo(this[O],"change:state",function(){return n._onWsGatewayStateChange.apply(n,arguments)}),this.on("disconnected",function(){n.stopListening(r)})}},{key:"_connect",value:async function(t){this.stopListening(t,"change:state");var e=new c.default(this.getId(),this[k],this.map(function(t){return t.getState()})),n=await t._sendRequest(this.constructor._SERVICE,e);this[C]=[],await this._setStateFromServer(y.default.fromResponse(n)),this._connectToChannel(t,n.channel),this[x]=void 0}},{key:"_enqueueLocalOperation",value:function(t){this[C].push(t),this[k]++}},{key:"_sendQueueToServer",value:async function(){var t=this;if(!this[j]&&this.isConnected()){this[j]=!0;for(var e=0;this[C].length&&e<10;){e++;var n=this[C][0],r=await this[O]._sendRequest(this.constructor._SERVICE,n).catch(function(e){return t._errorHandler(e)});if(r){var o=v.default.fromResponse(r);o.wereChangesApplied?(this[C].shift(),this._setServerVersion(o.version)):await this._applyExternalOperations(o.history),10===e&&console.warn("Detected infinite while loop while sending queue!\nLocalVersion: "+this[k]+" ServerVersion: "+this[T]+".")}else this[C].shift()}this[j]=!1}}},{key:"_applyExternalOperations",value:async function(t){var e=this;return this[P]=this[P].then(async function(){e._excludeAlreadyAppliedOperations(t);var n=t.filter(function(t){return t.baseVersion>=e[T]});if(n.length){var r=e.constructor._getItemFactory(),o=await Promise.all(n.filter(function(t){return t instanceof l.default}).map(function(t){return r.get(e[O],t.itemId)})).catch(function(t){return e._errorHandler(t)});if(void 0!==o){var i=new Map(o.filter(function(t){return!!t}).map(function(t){return[t.getId(),t]})),a=(0,m.default)(n,e[C]);e[C]=e[C].filter(function(t){return!(t instanceof h.default)});var s=!0,u=!1,c=void 0;try{for(var d,y=a[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){var v=d.value;if(v instanceof l.default){var b=i.get(v.itemId);try{e.add(b,v.index,!0)}catch(t){e._errorHandler(t)}}if(v instanceof f.default)try{e.remove(v.itemId,!0)}catch(t){e._errorHandler(t)}if(v instanceof p.default)try{var g=e.remove(v.itemId,!0);e.add(g,v.toIndex,!0)}catch(t){e._errorHandler(t)}e._setServerVersion(v.baseVersion+1)}}catch(t){u=!0,c=t}finally{try{!s&&y.return&&y.return()}finally{if(u)throw c}}}}}),this[P]}},{key:"_setServerVersion",value:function(t){var e=parseInt(t);e>=this[T]?(this[k]===this[T]&&(this[k]=e),this[T]=e):console.warn("Trying to set lower version: "+e+", current="+this[T])}},{key:"_excludeAlreadyAppliedOperations",value:function(t){for(;this[C].length&&t.length&&this[C][0].isSame(t[0]);){this[C].shift();var e=t.shift();this._setServerVersion(e.baseVersion+1)}}},{key:"_onWsGatewayStateChange",value:function(t,e,n){n===g.default.STATE_DISCONNECTED&&(this[S]=!1,this.fire("disconnected")),n===g.default.STATE_CONNECTED&&this.connect(this[O])}},{key:"_errorHandler",value:function(t){t instanceof w.default?this.fire(t.eventName,t):this.fire("error",t)}}],[{key:"get",value:async function(t,e){return await t._serviceRegister.get(e,this)}},{key:"getConnectedSessions",value:async function(t,e){return b.default.getConnectedSessions(t,e,this._SERVICE)}},{key:"create",value:function(t){return new e(t)}},{key:"_getItemFactory",value:function(){return u.default}},{key:"_SERVICE",get:function(){return"live-unit-collections"}}]),e}();e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._SERVICE=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=u(n(148)),i=u(n(149)),a=u(n(150)),s=u(n(10));function u(t){return t&&t.__esModule?t:{default:t}}var c=e._SERVICE="sessions",l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"getConnectedSessions",value:async function(e,n,r){var o=await t._requestConnectSessions(e,n,r),i=o.channel,s=o.alreadyConnected;return new a.default(e,i,n,r,s)}},{key:"_requestConnectSessions",value:async function(t,e,n){var r=await t._sendRequest(c,new o.default(e,n)),a=i.default.fromServiceResponse(r),u=[],l=!0,f=!1,p=void 0;try{for(var h,d=a.sessions[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var y=h.value,v={id:y.session};v.user=y.user?await s.default.get(t,y.user):new s.default,u.push(v)}}catch(t){f=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(f)throw p}}return{channel:a.channel,alreadyConnected:u}}}]),t}();e.default=l},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=Symbol("channel"),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[o]=String(e)}return r(t,[{key:"toJSON",value:function(){return{channel:this[o]}}},{key:"channel",get:function(){return this[o]}}]),t}();t.exports=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=Symbol("itemId"),a="liveunitcollection:add",s=function(t){function e(t,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,t));return s.baseVersion=n,s.index=o,s[i]=r,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.baseVersion=this.baseVersion,t.itemId=this.itemId,t.index=this.index,t}},{key:"toString",value:function(){return"LUC:add{"+this.baseVersion+": "+this.itemId+"@"+this.index+"}"}},{key:"isSame",value:function(t){return t.type===this.type&&t.baseVersion===this.baseVersion&&t.itemId===this.itemId&&t.index===this.index}},{key:"itemId",get:function(){return this[i]}}],[{key:"fromPayload",value:function(t){return new e(t.id,t.baseVersion,t.itemId,t.index)}},{key:"TYPE",get:function(){return a}}]),e}();t.exports=s},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=Symbol("itemId"),a="liveunitcollection:remove",s=function(t){function e(t,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,t));return s[i]=r,s.baseVersion=n,s.index=o,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.baseVersion=this.baseVersion,t.itemId=this.itemId,t.index=this.index,t}},{key:"toString",value:function(){return"LUC:rem{"+this.baseVersion+": "+this.itemId+"@"+this.index+"}"}},{key:"isSame",value:function(t){return t.type===this.type&&t.baseVersion===this.baseVersion&&t.itemId===this.itemId&&t.index===this.index}},{key:"itemId",get:function(){return this[i]}}],[{key:"fromPayload",value:function(t){return new e(t.id,t.baseVersion,t.itemId,t.index)}},{key:"TYPE",get:function(){return a}}]),e}();t.exports=s},function(t,e,n){"use strict";var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var c,l=[],f=!1,p=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||f||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){var r=n(0),o=n(190),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(58):void 0!==e&&(t=n(58)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(i)}),t.exports=s}).call(e,n(27))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=
/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function(){for(var t="e",e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.attachLinkToDocumentation=a;
/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var o=e.DOCUMENTATION_URL="https://docs.ckeditor.com/ckeditor5/latest/framework/guides/support/error-codes.html",i=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(t),n&&(t+=" "+JSON.stringify(n));var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.name="CKEditorError",r.data=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),r(e,null,[{key:"isCKEditorError",value:function(t){return t instanceof e}}]),e}();function a(t){var e=t.match(/^([^:]+):/);return e?t+" Read more: "+o+"#error-"+e[1]+"\n":t}e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(32));var o=Object.prototype.hasOwnProperty;e.default=function(t,e,n){var i=t[e];o.call(t,e)&&(0,r.default)(i,n)&&(void 0!==n||e in t)||(t[e]=n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(6));var o="[object Function]",i="[object GeneratorFunction]",a=Object.prototype.toString;e.default=function(t){var e=(0,r.default)(t)?a.call(t):"";return e==o||e==i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=9007199254740991;e.default=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.default=function(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.prototype;e.default=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Array.isArray;e.default=r},function(t,e,n){"use strict";var r=n(17),o=n(101),i=n(102),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){"use strict";var r=n(111),o=n(116);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.origin=n,this.data=o,this.channel=r}return r(t,[{key:"toJSON",value:function(){return{type:this.type,origin:this.origin,data:this.data,channel:this.channel}}}],[{key:"createConnect",value:function(e,n,r){return new t(t.TYPE_CONNECT,e,n,r)}},{key:"createDisconnect",value:function(e,n,r){return new t(t.TYPE_DISCONNECT,e,n,r)}},{key:"createEvent",value:function(e,n,r,o){return new t(e,n,r,o)}},{key:"fromSocket",value:function(e){return new t(e.type,e.origin,e.channel,e.data)}},{key:"TYPE_CONNECT",get:function(){return"connect"}},{key:"TYPE_DISCONNECT",get:function(){return"disconnect"}}]),t}();t.exports=o},function(t,e,n){"use strict";var r=n(146),o=n(147),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);t.exports=function(){return r(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e,n){"use strict";for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,o=r;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=u(n(12)),i=u(n(30)),a=u(n(29)),s=u(n(3));
/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}return r(t,[{key:"add",value:function(t,e){var n=void 0,r=this._idProperty;if(r in t){if("string"!=typeof(n=t[r]))throw new i.default("collection-add-invalid-id");if(this.get(n))throw new i.default("collection-add-item-already-exists")}else t[r]=n=(0,a.default)();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new i.default("collection-add-item-invalid-index");return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}},{key:"get",value:function(t){var e=void 0;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new i.default("collection-get-invalid-arg: Index or id must be given.");e=this._items[t]}return e||null}},{key:"getIndex",value:function(t){var e=void 0;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}},{key:"remove",value:function(t){var e=void 0,n=void 0,r=void 0,o=!1,a=this._idProperty;if("string"==typeof t?(n=t,o=!(r=this._itemMap.get(n)),r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,o=!(r=this._items[e]),r&&(n=r[a])):(n=(r=t)[a],o=-1==(e=this._items.indexOf(r))||!this._itemMap.get(n)),o)throw new i.default("collection-remove-404: Item not found.");this._items.splice(e,1),this._itemMap.delete(n);var s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,e),r}},{key:"map",value:function(t,e){return this._items.map(t,e)}},{key:"find",value:function(t,e){return this._items.find(t,e)}},{key:"filter",value:function(t,e){return this._items.filter(t,e)}},{key:"clear",value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:"bindTo",value:function(t){var e=this;if(this._bindToCollection)throw new i.default("collection-bind-to-rebind: The collection cannot be bound more than once.");return this._bindToCollection=t,{as:function(t){e._setUpBindToBinding(function(e){return new t(e)})},using:function(t){"function"==typeof t?e._setUpBindToBinding(function(e){return t(e)}):e._setUpBindToBinding(function(e){return e[t]})}}}},{key:"_setUpBindToBinding",value:function(t){var e=this,n=this._bindToCollection,r=function(r,o,i){var a=n._bindToCollection==e,s=n._bindToInternalToExternalMap.get(o);if(a&&s)e._bindToExternalToInternalMap.set(o,s),e._bindToInternalToExternalMap.set(s,o);else{var u=t(o);if(!u)return void e._skippedIndexesFromExternal.push(i);var c=i,l=!0,f=!1,p=void 0;try{for(var h,d=e._skippedIndexesFromExternal[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){i>h.value&&c--}}catch(t){f=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(f)throw p}}var y=!0,v=!1,m=void 0;try{for(var b,g=n._skippedIndexesFromExternal[Symbol.iterator]();!(y=(b=g.next()).done);y=!0){c>=b.value&&c++}}catch(t){v=!0,m=t}finally{try{!y&&g.return&&g.return()}finally{if(v)throw m}}e._bindToExternalToInternalMap.set(o,u),e._bindToInternalToExternalMap.set(u,o),e.add(u,c);for(var w=0;w<n._skippedIndexesFromExternal.length;w++)c<=n._skippedIndexesFromExternal[w]&&n._skippedIndexesFromExternal[w]++}},o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r(0,c,n.getIndex(c))}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}this.listenTo(n,"add",r),this.listenTo(n,"remove",function(t,n,r){var o=e._bindToExternalToInternalMap.get(n);o&&e.remove(o),e._skippedIndexesFromExternal=e._skippedIndexesFromExternal.reduce(function(t,e){return r<e&&t.push(e-1),r>e&&t.push(e),t},[])})}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),t}();e.default=c,(0,s.default)(c,o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENT_SEPARATOR=e.EVENT_CHANGE=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=y(n(19)),i=y(n(41)),a=y(n(3)),s=y(n(11)),u=y(n(23)),c=y(n(22)),l=y(n(151)),f=y(n(152)),p=y(n(153)),h=y(n(5)),d=y(n(21));function y(t){return t&&t.__esModule?t:{default:t}}var v=Symbol("id"),m=Symbol("wsGateway"),b=Symbol("isConnected"),g=Symbol("connectPromise"),w=e.EVENT_CHANGE="change",_=e.EVENT_SEPARATOR=":",E={},O=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[v]=e||i.default.v4(),this[b]=!1,this[g]=void 0,this.set(n)}return r(t,[{key:"getId",value:function(){return this[v]}},{key:"isConnected",value:function(){return this[b]}},{key:"set",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,o.default)(t))Object.keys(t).forEach(function(r){return n.set(r,t[r],e)});else{if(r||(h.call(this,e),this.isConnected()&&this.constructor._isNestable(e)&&e.connect(this[m])),s.default.set.call(this,t,e),e instanceof this.constructor){var i=e,a=""+w+_,u=""+a+t,c=function(e,r,o,i){n.fire(""+u+_+e.name.substr(a.length),t,o,i)};this.listenTo(i,w,c),this.on(u,function t(e,r,o){o instanceof n.constructor||e.name!==u||(n.stopListening(i,w,c),n.off(u,t,n))})}var l=Object.getOwnPropertyDescriptor(this,t),f=l.set;l.set=function(t){h.call(n,t),f.call(n,t)},Object.defineProperty(this,t,l)}function h(e){var n=this;if(this[m]){var r=e;this.constructor._isNestable(r)&&(r=S(r)),this[m]._sendRequest(this.constructor._SERVICE,new p.default(this.getId(),t,r,null)).catch(function(t){console.warn('Error while sending request to "'+n.constructor._SERVICE+'" service.',t),t instanceof d.default?n.fire(t.eventName,t):n.fire("error",t)})}}}},{key:"connect",value:function(t){if(this.isConnected())return Promise.resolve();if(this[g])return this[g];if(t.state!==h.default.STATE_CONNECTED)throw new d.default("webSocketGatewayNotConnected","Web Socket Gateway is not connected.",{state:t.state});return this[m]=t,this[g]=this._connect(t),this[g]}},{key:"getState",value:function(){var t={},e=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(this)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t[a]=this[a]}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}return{id:this.getId(),state:t}}},{key:"_setStateFromServer",value:async function(t){var e=Object.keys(t),n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(this)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e.includes(s)||this.set(s,void 0,!0)}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var u=[],c=!0,l=!1,f=void 0;try{for(var p,h=e[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=p.value,y=this[d];this.constructor._isNestable(y)&&"function"==typeof y.isConnected&&y.isConnected()||u.push(this._setAttributeValue(d,t[d]))}}catch(t){l=!0,f=t}finally{try{!c&&h.return&&h.return()}finally{if(l)throw f}}await Promise.all(u)}},{key:"_connectToChannel",value:function(t,e){var n=this;this[m]=t;var r=t._getServiceChannel(this.constructor._SERVICE),o=e+":"+p.default.TYPE;this.listenTo(r,o,async function(t,e){await n._setAttributeValue(e.attribute,e.value)}),t._serviceRegister.register(this.constructor._SERVICE,this.getId(),this),this[b]=!0,this.fire("connected"),this.listenTo(t,"change:state",function(){return n._onWsGatewayStateChange.apply(n,arguments)}),this.on("disconnected",function(){n.stopListening(r)})}},{key:"_connect",value:async function(t){this.stopListening(t,"change:state");var e=await this._createConnectData(),n=await t._sendRequest(this.constructor._SERVICE,e),r=f.default.fromResponse(n);await this._setStateFromServer(r.current),this._connectToChannel(t,r.channel),this[g]=void 0}},{key:"_createConnectData",value:async function(){var t=this,e={},n=[],r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(this)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=this[u];this.constructor._isNestable(c)&&(n.push(c),c=S(c)),e[u]=c}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}var f=n.filter(function(t){return"function"==typeof t.isConnected&&!t.isConnected()}).map(function(e){return e.connect(t[m])});return await Promise.all(f),new l.default(this.getId(),e)}},{key:"_setAttributeValue",value:async function(t,e){if(e&&e.__type){var n=e,r=this.constructor._getNestedFactory(n.__type);r&&(e=await r.get(this[m],n.id)),e||console.warn('external-item-not-found: Requested "'+n.id+'" from "'+n.__type+'"')}this.set(t,e,!0)}},{key:"_onWsGatewayStateChange",value:function(t,e,n){n===h.default.STATE_DISCONNECTED&&(this[b]=!1,this.fire("disconnected")),n===h.default.STATE_CONNECTED&&this.connect(this[m])}},{key:"_id",get:function(){return this.getId()}}],[{key:"get",value:async function(t,e){return await t._serviceRegister.get(e,this)}},{key:"create",value:function(e){return new t(e)}},{key:"getConnectedSessions",value:async function(t,e){return u.default.getConnectedSessions(t,e,this._SERVICE)}},{key:"_isNestable",value:function(t){return!!(t&&t.constructor&&t.constructor._SERVICE)&&!!this._getNestedFactory(t.constructor._SERVICE)}},{key:"_getNestedFactory",value:function(t){return E[t]}},{key:"_SERVICE",get:function(){return"live-units"}}]),t}();function S(t){return{__type:t.constructor._SERVICE,id:"function"==typeof t.getId?t.getId():t.id}}(0,a.default)(O,s.default),E["live-unit-collections"]=c.default,E["live-units"]=O,e.default=O},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(20),i="liveunitcollection:move",a=function(t){function e(t,n,r,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return s.itemId=r,s.baseVersion=n,s.fromIndex=o,s.toIndex=a,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toString",value:function(){return"LUC:move{"+this.baseVersion+": "+this.itemId+" "+this.fromIndex+"->"+this.toIndex+"}"}},{key:"isSame",value:function(t){return t.type===this.type&&t.baseVersion===this.baseVersion&&t.itemId===this.itemId&&t.fromIndex===this.fromIndex&&t.toIndex===this.toIndex}}],[{key:"TYPE",get:function(){return i}}]),e}();t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(20),i="liveunitcollection:noop",a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.baseVersion=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toString",value:function(){return"LUC:noop"}},{key:"isSame",value:function(t){return t.type===this.type}}],[{key:"TYPE",get:function(){return i}}]),e}();t.exports=a},function(t,e,n){"use strict";var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(25),s=n(26),u=(i(r={},a.TYPE,a),i(r,s.TYPE,s),r),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"createFromObject",value:function(t){return u[t._type]?u[t._type].fromPayload(t):void 0}}]),t}();t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(22)),i=a(n(50));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"_id",get:function(){return this.getId()}}],[{key:"create",value:function(t){return new e(t)}},{key:"_getItemFactory",value:function(){return i.default}},{key:"_SERVICE",get:function(){return"comment-threads"}}]),e}();e.default=s,s.getConnectedSessions=void 0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(45)),i=a(n(10));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,null,[{key:"create",value:function(t){return new e(t)}},{key:"_getNestedFactory",value:function(t){if("users"===t)return i.default}},{key:"_SERVICE",get:function(){return"comments"}}]),e}();e.default=s,s.getConnectedSessions=void 0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=
/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function(){for(var t="e",e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.default)();return t+"?"+Object.keys(e).filter(function(t){return e[t]}).map(function(t){return"user."+t+"="+e[t]}).join("&")};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(158))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ie11=function(){return/rv:11.0/i.test(navigator.userAgent)},e.edge=function(){return/Edge/i.test(navigator.userAgent)},e.isSupported=function(){return!/MSIE/i.test(navigator.userAgent)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop;return e.top+o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(178));var o={parse:function(t){var e=r.default.parse(t||window.location.search),n={};return Object.keys(e).forEach(function(t){var r=e[t];r&&(-1!==r.indexOf(",")?n[t]=r.split(","):n[t]=r)}),n},stringify:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t);if(!e.length)return"";var n={};return e.forEach(function(e){var r=t[e];Array.isArray(r)?n[e]=r.join(","):n[e]=r}),r.default.stringify(n,{encode:!1})},makeSafeQsApi:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o.parse,n=o.stringify;if(!Object.keys(t))return{parse:e,stringify:n};return{parse:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search;if(!n.length)return{};var r=e(n||window.location.search),o=Object.keys(t),i={};return Object.keys(r).filter(function(t){return o.includes(t)}).forEach(function(e){var n=r[e],o=void 0;(o=Array.isArray(n)?n.filter(function(n){return t[e].includes(n)}):t[e].includes(n)?n:"").length&&(i[e]=o)}),i},stringify:n}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;t<8&&(t=8);for(var e="e",n=t%4?Math.floor(t/4)+1:t,r=0;r<n;r++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e.substr(0,t)}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";(function(e){var r=n(0),o=n(191),i=n(193),a=n(194),s=n(195),u=n(59),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(196);t.exports=function(t){return new Promise(function(l,f){var p=t.data,h=t.headers;r.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,y="onreadystatechange",v=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,y="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var m=t.auth.username||"",b=t.auth.password||"";h.Authorization="Basic "+c(m+":"+b)}if(d.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[y]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:t,request:d};o(l,f,n),d=null}},d.onerror=function(){f(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=n(197),w=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;w&&(h[t.xsrfHeaderName]=w)}if("setRequestHeader"in d&&r.forEach(h,function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),f(t),d=null)}),void 0===p&&(p=null),d.send(p)})}}).call(e,n(27))},function(t,e,n){"use strict";var r=n(192);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(63)),o=l(n(52)),i=l(n(160)),a=n(161),s=l(n(206)),u=l(n(207)),c=n(208);function l(t){return t&&t.__esModule?t:{default:t}}
/**
                                                                                                                                                                                                                   * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                   * For licensing, see LICENSE.md.
                                                                                                                                                                                                                   */
var f=a.mobile.isDesktop,p=void 0,h=void 0,d=void 0,y=void 0,v=void 0;function m(t,e){t&&(t.select(),document.execCommand("copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),e&&e())}function b(){window.removeEventListener("click",b),h.addEventListener("transitionend",function t(){h.classList.contains("popper--hidden")&&h.classList.add("popper--out"),h.removeEventListener("transitionend",t)}),h.classList.add("popper--hidden")}function g(){h.classList.contains("popper--hidden")?(h.classList.remove("popper--out"),h.classList.remove("popper--hidden"),window.addEventListener("click",b)):b()}function w(){var t=document.createElement("button");return t.className="btn btn--small btn-primary rel",t.textContent="Share",t.addEventListener("click",g),document.querySelector(".popper .popper__close").addEventListener("click",b),document.querySelector(".collaboration-demo__presence").appendChild(t),new Promise(function(e){setTimeout(function(){return e(function(t){return(h=document.getElementById("share-btn-popper")).addEventListener("click",function(t){return t.stopPropagation()}),t.addEventListener("click",function(t){return t.stopPropagation()}),new i.default(t,h,{placement:"bottom-end",removeOnDestroy:!0})}(t))},0)})}function _(t){var e=t.documentId,n=t.urlParam;if(n){var r=a.qs.parse();(0,a.updateURL)(Object.assign({},r,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,e)))}else history.replaceState("","Collaborative editing demo","#collab"+e+" ")}function E(t){var e=document.querySelector(".collaboration-demo");if(e){p=!0;var n={tokenUrl:c.runConfig.cs.tokenUrl,uploadUrl:c.runConfig.cs.uploadUrl,webSocketUrl:c.runConfig.cs.websocketUrl,documentId:a.qs.parse()[t]||(0,a.getDocumentIdFromUrl)()||(0,a.uid)(10)},i=n.documentId,u=e.querySelector(".loader"),l=(0,s.default)(i),f=l.comments,h=l.content;return e.querySelector(".collaboration-demo__editable").innerHTML=h,window.CLOUD_SERVICE_TOKEN_URL=n.tokenUrl,window.CLOUD_SERVICE_WEBSOCKET_URL=n.webSocketUrl,(0,r.default)(i,f).catch(function(t){return console.error(t)}).then(function(){return(0,a.getRandomUser)()}).then(function(r){return n.tokenUrl=(0,o.default)(n.tokenUrl,r),CKEditor.Collaboration.create(e.querySelector(".collaboration-demo__editable"),{cloudServices:n,sidebar:{container:document.querySelector(".collaboration-demo__sidebar")},presenceList:{container:document.querySelector(".collaboration-demo__presence")}}).then(function(n){y=n,_({documentId:i,urlParam:t}),w().then(function(t){return d=t}).then(function(){return function(){var t=document.querySelector(".popper .btn"),e=document.getElementById("demo-collaboration-url"),n=t.getAttribute("data-tooltip"),r=void 0;e.value=window.location,e.addEventListener("click",function(){return e.select()}),t.addEventListener("click",function(){return m(e,function(){t.setAttribute("data-tooltip","Copied!"),clearTimeout(r),r=setTimeout(function(){t.setAttribute("data-tooltip",n)},2e3)})})}()}),e.querySelector(".collaboration-demo__toolbar").appendChild(n.ui.view.toolbar.element),u.classList.add("fadeout"),setTimeout(function(){e.classList.add("collaboration-demo--ready"),u.parentNode.removeChild(u)},200),window.editor=n}).catch(function(t){return console.error(t)})})}}var O={init:function(){f({type:"small-up"})&&!p?E():v||(v=!0,u.default.windowResize([O.init]))},run:E,update:function(){d&&y&&(y.editing.view.fire("render"),d.update(),document.getElementById("demo-collaboration-url").value=window.location)}};e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(t){t=Object.assign({id:(0,s.default)()},t);var e=(0,u.default)(CLOUD_SERVICE_TOKEN_URL,t);return c.default.create(e).then(function(t){return r.default.connect(t,CLOUD_SERVICE_WEBSOCKET_URL)})}(e.user).then(function(n){return o.default.get(n,t).then(function(r){if(!r){var s=new o.default(t);for(var u in e.comments){var c=new i.default(t+"-"+u);s.add(c);var l=!0,f=!1,p=void 0;try{for(var h,d=e.comments[u][Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var y=h.value;c.add(new a.default(void 0,{content:y,author:e.user}))}}catch(t){f=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(f)throw p}}}return s.connect(n)}}).then(function(){n.disconnect()}).catch(function(t){throw n.disconnect(),t})})};var r=l(n(5)),o=l(n(145)),i=l(n(49)),a=l(n(50)),s=l(n(51)),u=l(n(52)),c=l(n(159));function l(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";(function(n){var r,o,i,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"===s(e)&&void 0!==t?t.exports=n():(o=[],void 0===(i="function"==typeof(r=n)?r.apply(e,o):r)||(t.exports=i))}(function(){return function(){return function t(e,n,r){function o(s,u){if(!n[s]){if(!e[s]){if(!u&&"function"==typeof a&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}}()({1:[function(t,e,n){var r=t("./lib/scsocket"),o=t("./lib/scsocketcreator");e.exports.SCSocketCreator=o,e.exports.SCSocket=r,e.exports.Emitter=t("component-emitter"),e.exports.connect=function(t){return o.connect(t)},e.exports.destroy=function(t){return o.destroy(t)},e.exports.connections=o.connections,e.exports.version="9.0.4"},{"./lib/scsocket":4,"./lib/scsocketcreator":5,"component-emitter":12}],2:[function(t,e,r){(function(t){var n=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};n.prototype._checkLocalStorageEnabled=function(){var e;try{t.localStorage,t.localStorage.setItem("__scLocalStorageTest",1),t.localStorage.removeItem("__scLocalStorageTest")}catch(t){e=t}return!e},n.prototype.saveToken=function(e,n,r,o){this.isLocalStorageEnabled&&t.localStorage?t.localStorage.setItem(e,n):this._internalStorage[e]=n,o&&o(null,n)},n.prototype.removeToken=function(e,n){var r;this.loadToken(e,function(t,e){r=e}),this.isLocalStorageEnabled&&t.localStorage?t.localStorage.removeItem(e):delete this._internalStorage[e],n&&n(null,r)},n.prototype.loadToken=function(e,n){n(null,this.isLocalStorageEnabled&&t.localStorage?t.localStorage.getItem(e):this._internalStorage[e]||null)},e.exports.AuthEngine=n}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){var r=t("sc-errors"),o=r.InvalidActionError,i=function(t,e){this.socket=t,this.id=e,this.sent=!1};i.prototype._respond=function(t){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(t))},i.prototype.end=function(t){if(this.id){var e={rid:this.id};void 0!==t&&(e.data=t),this._respond(e)}},i.prototype.error=function(t,e){if(this.id){var n=r.dehydrateError(t),o={rid:this.id,error:n};void 0!==e&&(o.data=e),this._respond(o)}},i.prototype.callback=function(t,e){t?this.error(t,e):this.end(e)},e.exports.Response=i},{"sc-errors":21}],4:[function(t,e,r){(function(n,r){var o=t("component-emitter"),i=t("sc-channel").SCChannel,a=(t("./response").Response,t("./auth").AuthEngine),s=t("sc-formatter"),u=t("./sctransport").SCTransport,c=t("querystring"),l=t("linked-list"),f=t("base-64"),p=t("clone"),h=t("sc-errors"),d=h.InvalidArgumentsError,y=h.InvalidMessageError,v=h.SocketProtocolError,m=h.TimeoutError,b=h.BadConnectionError,g="undefined"!=typeof window,w=function(t){var e=this;o.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.connectTimeout=t.connectTimeout,this.ackTimeout=t.ackTimeout,this.channelPrefix=t.channelPrefix||null,this.disconnectOnUnload=null==t.disconnectOnUnload||t.disconnectOnUnload,this.authTokenName=t.authTokenName,this.pingTimeout=this.ackTimeout;var r=Math.pow(2,31)-1,i=function(t){if(e[t]>r)throw new d("The "+t+" value provided exceeded the maximum amount allowed")};if(i("connectTimeout"),i("ackTimeout"),i("pingTimeout"),this._localEvents={connect:1,connectAbort:1,close:1,disconnect:1,message:1,error:1,raw:1,fail:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new l,this.channels={},this.options=t,this._cid=1,this.options.callIdGenerator=function(){return e._cid++},this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});var u=this.options.autoReconnectOptions;null==u.initialDelay&&(u.initialDelay=1e4),null==u.randomness&&(u.randomness=1e4),null==u.multiplier&&(u.multiplier=1.5),null==u.maxDelay&&(u.maxDelay=6e4)}null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new a,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=s,this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=t.query||{},"string"==typeof this.options.query&&(this.options.query=c.parse(this.options.query)),this.options.autoConnect&&this.connect(),this._channelEmitter=new o,g&&this.disconnectOnUnload&&n.addEventListener&&(this._unloadHandler=function(){e.disconnect()},n.addEventListener("beforeunload",this._unloadHandler,!1))};w.prototype=Object.create(o.prototype),w.CONNECTING=w.prototype.CONNECTING=u.prototype.CONNECTING,w.OPEN=w.prototype.OPEN=u.prototype.OPEN,w.CLOSED=w.prototype.CLOSED=u.prototype.CLOSED,w.AUTHENTICATED=w.prototype.AUTHENTICATED="authenticated",w.UNAUTHENTICATED=w.prototype.UNAUTHENTICATED="unauthenticated",w.PENDING=w.prototype.PENDING="pending",w.ignoreStatuses=h.socketProtocolIgnoreStatuses,w.errorStatuses=h.socketProtocolErrorStatuses,w.prototype._privateEventHandlerMap={"#publish":function(t){var e=this._undecorateChannelName(t.channel);this.isSubscribed(e,!0)&&this._channelEmitter.emit(e,t.data)},"#kickOut":function(t){var e=this._undecorateChannelName(t.channel),n=this.channels[e];n&&(o.prototype.emit.call(this,"kickOut",t.message,e),n.emit("kickOut",t.message,e),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(t,e){var n=this;if(t){this.auth.saveToken(this.authTokenName,t.token,{},function(r){r?(e.error(r),n._onSCError(r)):(n._changeToAuthenticatedState(t.token),e.end())})}else e.error(new y("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(t,e){var n=this;this.auth.removeToken(this.authTokenName,function(t,r){t?(e.error(t),n._onSCError(t)):(o.prototype.emit.call(n,"removeAuthToken",r),n._changeToUnauthenticatedStateAndClearTokens(),e.end())})},"#disconnect":function(t){this.transport.close(t.code,t.data)}},w.prototype.getState=function(){return this.state},w.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},w.prototype.deauthenticate=function(t){var e=this;this.auth.removeToken(this.authTokenName,function(n,r){n?e._onSCError(n):(o.prototype.emit.call(e,"removeAuthToken",r),e.state!=e.CLOSED&&e.emit("#removeAuthToken"),e._changeToUnauthenticatedStateAndClearTokens()),t&&t(n)})},w.prototype.connect=w.prototype.open=function(){var t=this;this.state==this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,o.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new u(this.auth,this.codec,this.options),this.transport.on("open",function(e){t.state=t.OPEN,t._onSCOpen(e)}),this.transport.on("error",function(e){t._onSCError(e)}),this.transport.on("close",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n)}),this.transport.on("openAbort",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n,!0)}),this.transport.on("event",function(e,n,r){t._onSCEvent(e,n,r)}))},w.prototype.reconnect=function(){this.disconnect(),this.connect()},w.prototype.disconnect=function(t,e){if("number"!=typeof(t=t||1e3))throw new d("If specified, the code argument must be a number");this.state==this.OPEN||this.state==this.CONNECTING?this.transport.close(t,e):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},w.prototype.destroy=function(){this._unloadHandler&&n.removeEventListener("beforeunload",this._unloadHandler,!1),this.disconnect()},w.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!=this.UNAUTHENTICATED){var t=this.authState;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;var e={oldState:t,newState:this.authState};o.prototype.emit.call(this,"authStateChange",e),t==this.AUTHENTICATED&&o.prototype.emit.call(this,"deauthenticate"),o.prototype.emit.call(this,"authTokenChange",this.signedAuthToken)}},w.prototype._changeToAuthenticatedState=function(t){if(this.signedAuthToken=t,this.authToken=this._extractAuthTokenData(t),this.authState!=this.AUTHENTICATED){var e=this.authState;this.authState=this.AUTHENTICATED;var n={oldState:e,newState:this.authState,signedAuthToken:t,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),o.prototype.emit.call(this,"authStateChange",n),o.prototype.emit.call(this,"authenticate",t)}o.prototype.emit.call(this,"authTokenChange",t)},w.prototype.decodeBase64=function(t){var e;void 0===r?e=n.atob?n.atob(t):f.decode(t):e=new r(t,"base64").toString("utf8");return e},w.prototype.encodeBase64=function(t){var e;void 0===r?e=n.btoa?n.btoa(t):f.encode(t):e=new r(t,"utf8").toString("base64");return e},w.prototype._extractAuthTokenData=function(t){var e=(t||"").split(".")[1];if(null!=e){var n=e;try{return n=this.decodeBase64(n),JSON.parse(n)}catch(t){return n}}return null},w.prototype.getAuthToken=function(){return this.authToken},w.prototype.getSignedAuthToken=function(){return this.signedAuthToken},w.prototype.authenticate=function(t,e){var n=this;this.emit("#authenticate",t,function(r,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=h.hydrateError(o.authError)):o={isAuthenticated:n.authState,authError:null},r?("BadConnectionError"!=r.name&&"TimeoutError"!=r.name&&n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)):n.auth.saveToken(n.authTokenName,t,{},function(r){r&&n._onSCError(r),o.isAuthenticated?n._changeToAuthenticatedState(t):n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)})})},w.prototype._tryReconnect=function(t){var e,n=this,r=this.connectAttempts++,o=this.options.autoReconnectOptions;if(null==t||r>0){var i=Math.round(o.initialDelay+(o.randomness||0)*Math.random());e=Math.round(i*Math.pow(o.multiplier,r))}else e=t;e>o.maxDelay&&(e=o.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=e,this._reconnectTimeoutRef=setTimeout(function(){n.connect()},e)},w.prototype._onSCOpen=function(t){var e=this;this.preparingPendingSubscriptions=!0,t?(this.id=t.id,this.pingTimeout=t.pingTimeout,this.transport.pingTimeout=this.pingTimeout,t.isAuthenticated?this._changeToAuthenticatedState(t.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),o.prototype.emit.call(this,"connect",t,function(){e.processPendingSubscriptions()}),this._flushEmitBuffer()},w.prototype._onSCError=function(t){var e=this;setTimeout(function(){if(e.listeners("error").length<1)throw t;o.prototype.emit.call(e,"error",t)},0)},w.prototype._suspendSubscriptions=function(){var t,e;for(var n in this.channels)this.channels.hasOwnProperty(n)&&(e=(t=this.channels[n]).state==t.SUBSCRIBED||t.state==t.PENDING?t.PENDING:t.UNSUBSCRIBED,this._triggerChannelUnsubscribe(t,e))},w.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e,n=this._emitBuffer.head;n;){e=n.next;var r=n.data;clearTimeout(r.timeout),delete r.timeout,n.detach(),n=e;var o=r.callback;if(o){delete r.callback;var i="Event '"+r.event+"' was aborted due to a bad connection",a=new b(i,t);o.call(r,a,r)}r.cid&&this.transport.cancelPendingResponse(r.cid)}},w.prototype._onSCClose=function(t,e,n){if(this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3==t||4001==t||1005==t?this._tryReconnect(0):1e3!=t&&t<4500&&this._tryReconnect()),n?o.prototype.emit.call(this,"connectAbort",t,e):o.prototype.emit.call(this,"disconnect",t,e),o.prototype.emit.call(this,"close",t,e),!w.ignoreStatuses[t]){var r;r=e?"Socket connection failed: "+e:"Socket connection failed for unknown reasons";var i=new v(w.errorStatuses[t]||r,t);this._onSCError(i)}},w.prototype._onSCEvent=function(t,e,n){var r=this._privateEventHandlerMap[t];r?r.call(this,e,n):o.prototype.emit.call(this,t,e,function(){n&&n.callback.apply(n,arguments)})},w.prototype.decode=function(t){return this.transport.decode(t)},w.prototype.encode=function(t){return this.transport.encode(t)},w.prototype._flushEmitBuffer=function(){for(var t,e=this._emitBuffer.head;e;){t=e.next;var n=e.data;e.detach(),this.transport.emitObject(n),e=t}},w.prototype._handleEventAckTimeout=function(t,e){e&&e.detach(),delete t.timeout;var n=t.callback;if(n){delete t.callback;var r=new m("Event response for '"+t.event+"' timed out");n.call(t,r,t)}t.cid&&this.transport.cancelPendingResponse(t.cid)},w.prototype._emit=function(t,e,n){var r=this;this.state==this.CLOSED&&this.connect();var o={event:t,callback:n},i=new l.Item;this.options.cloneData?o.data=p(e):o.data=e,i.data=o,o.timeout=setTimeout(function(){r._handleEventAckTimeout(o,i)},this.ackTimeout),this._emitBuffer.append(i),this.state==this.OPEN&&this._flushEmitBuffer()},w.prototype.send=function(t){this.transport.send(t)},w.prototype.emit=function(t,e,n){null==this._localEvents[t]?this._emit(t,e,n):o.prototype.emit.call(this,t,e)},w.prototype.publish=function(t,e,n){var r={channel:this._decorateChannelName(t),data:e};this.emit("#publish",r,n)},w.prototype._triggerChannelSubscribe=function(t,e){var n=t.name;if(t.state!=t.SUBSCRIBED){var r=t.state;t.state=t.SUBSCRIBED;var i={channel:n,oldState:r,newState:t.state,subscriptionOptions:e};t.emit("subscribeStateChange",i),t.emit("subscribe",n,e),o.prototype.emit.call(this,"subscribeStateChange",i),o.prototype.emit.call(this,"subscribe",n,e)}},w.prototype._triggerChannelSubscribeFail=function(t,e,n){var r=e.name,i=!e.waitForAuth||this.authState==this.AUTHENTICATED;e.state!=e.UNSUBSCRIBED&&i&&(e.state=e.UNSUBSCRIBED,e.emit("subscribeFail",t,r,n),o.prototype.emit.call(this,"subscribeFail",t,r,n))},w.prototype._cancelPendingSubscribeCallback=function(t){null!=t._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(t._pendingSubscriptionCid),delete t._pendingSubscriptionCid)},w.prototype._decorateChannelName=function(t){return this.channelPrefix&&(t=this.channelPrefix+t),t},w.prototype._undecorateChannelName=function(t){return this.channelPrefix&&0==t.indexOf(this.channelPrefix)?t.replace(this.channelPrefix,""):t},w.prototype._trySubscribe=function(t){var e=this,n=!t.waitForAuth||this.authState==this.AUTHENTICATED;if(this.state==this.OPEN&&!this.preparingPendingSubscriptions&&null==t._pendingSubscriptionCid&&n){var r={noTimeout:!0},i={channel:this._decorateChannelName(t.name)};t.waitForAuth&&(r.waitForAuth=!0,i.waitForAuth=r.waitForAuth),t.data&&(i.data=t.data),t.batch&&(r.batch=!0,i.batch=!0),t._pendingSubscriptionCid=this.transport.emit("#subscribe",i,r,function(n){delete t._pendingSubscriptionCid,n?e._triggerChannelSubscribeFail(n,t,i):e._triggerChannelSubscribe(t,i)}),o.prototype.emit.call(this,"subscribeRequest",t.name,i)}},w.prototype.subscribe=function(t,e){var n=this.channels[t];return n?e&&n.setOptions(e):(n=new i(t,this,e),this.channels[t]=n),n.state==n.UNSUBSCRIBED&&(n.state=n.PENDING,this._trySubscribe(n)),n},w.prototype._triggerChannelUnsubscribe=function(t,e){var n=t.name,r=t.state;if(t.state=e||t.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(t),r==t.SUBSCRIBED){var i={channel:n,oldState:r,newState:t.state};t.emit("subscribeStateChange",i),t.emit("unsubscribe",n),o.prototype.emit.call(this,"subscribeStateChange",i),o.prototype.emit.call(this,"unsubscribe",n)}},w.prototype._tryUnsubscribe=function(t){if(this.state==this.OPEN){var e={noTimeout:!0};t.batch&&(e.batch=!0),this._cancelPendingSubscribeCallback(t);var n=this._decorateChannelName(t.name);this.transport.emit("#unsubscribe",n,e)}},w.prototype.unsubscribe=function(t){var e=this.channels[t];e&&e.state!=e.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(e),this._tryUnsubscribe(e))},w.prototype.channel=function(t,e){var n=this.channels[t];return n||(n=new i(t,this,e),this.channels[t]=n),n},w.prototype.destroyChannel=function(t){var e=this.channels[t];e.unwatch(),e.unsubscribe(),delete this.channels[t]},w.prototype.subscriptions=function(t){var e,n=[];for(var r in this.channels)this.channels.hasOwnProperty(r)&&(e=this.channels[r],(t?e&&(e.state==e.SUBSCRIBED||e.state==e.PENDING):e&&e.state==e.SUBSCRIBED)&&n.push(r));return n},w.prototype.isSubscribed=function(t,e){var n=this.channels[t];return e?!!n&&(n.state==n.SUBSCRIBED||n.state==n.PENDING):!!n&&n.state==n.SUBSCRIBED},w.prototype.processPendingSubscriptions=function(){var t=this;this.preparingPendingSubscriptions=!1;var e=[];for(var n in this.channels)if(this.channels.hasOwnProperty(n)){var r=this.channels[n];r.state==r.PENDING&&e.push(r)}e.sort(function(t,e){var n=t.priority||0,r=e.priority||0;return n>r?-1:n<r?1:0}),e.forEach(function(e){t._trySubscribe(e)})},w.prototype.watch=function(t,e){if("function"!=typeof e)throw new d("No handler function was provided");this._channelEmitter.on(t,e)},w.prototype.unwatch=function(t,e){e?this._channelEmitter.removeListener(t,e):this._channelEmitter.removeAllListeners(t)},w.prototype.watchers=function(t){return this._channelEmitter.listeners(t)},e.exports=w}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./auth":2,"./response":3,"./sctransport":6,"base-64":8,buffer:10,clone:11,"component-emitter":12,"linked-list":15,querystring:18,"sc-channel":19,"sc-errors":21,"sc-formatter":22}],5:[function(t,e,r){(function(n){var r=t("./scsocket"),o=t("sc-errors").InvalidArgumentsError,i={};function a(t){var e=t.secure?"https://":"http://",n="";if(t.query)if("string"==typeof t.query)n=t.query;else{var r=[],o=t.query;for(var i in o)o.hasOwnProperty(i)&&r.push(i+"="+o[i]);r.length&&(n="?"+r.join("&"))}return e+(t.host?t.host:t.hostname+":"+t.port)+t.path+n}function s(){return n.location&&"https:"==location.protocol}function u(t,e){var r=null==t.secure?e:t.secure;return t.port||(n.location&&location.port?location.port:r?443:80)}e.exports={connect:function(t){if((t=t||{}).host&&t.port)throw new o("The host option should already include the port number in the format hostname:port - Because of this, the host and port options cannot be specified together; use the hostname option instead");var e=s(),c={port:u(t,e),hostname:n.location&&location.hostname,path:"/socketcluster/",secure:e,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(var l in t)t.hasOwnProperty(l)&&(c[l]=t[l]);var f=a(c);return!1===c.multiplex?new r(c):(i[f]?i[f].connect():i[f]=new r(c),i[f])},destroy:function(t){t=t||{};var e=s(),r={port:u(t,e),hostname:n.location&&location.hostname,path:"/socketcluster/",secure:e};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);var c=a(r),l=i[c];l&&l.destroy(),delete i[c]},connections:i}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./scsocket":4,"sc-errors":21}],6:[function(t,e,r){(function(n){var r,o,i=t("component-emitter"),a=t("./response").Response,s=t("querystring");n.WebSocket?(r=n.WebSocket,o=function(t,e){return new r(t)}):(r=t("ws"),o=function(t,e){return new r(t,null,e)});var u=t("sc-errors"),c=u.TimeoutError,l=u.BadConnectionError,f=function(t,e,n){this.state=this.CLOSED,this.auth=t,this.codec=e,this.options=n,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.ackTimeout,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.open()};f.prototype=Object.create(i.prototype),f.CONNECTING=f.prototype.CONNECTING="connecting",f.OPEN=f.prototype.OPEN="open",f.CLOSED=f.prototype.CLOSED="closed",f.prototype.uri=function(){var t,e=this.options.query||{},n=this.options.secure?"wss":"ws";if(this.options.timestampRequests&&(e[this.options.timestampParam]=(new Date).getTime()),(e=s.encode(e)).length&&(e="?"+e),this.options.host)t=this.options.host;else{var r="";this.options.port&&("wss"==n&&443!=this.options.port||"ws"==n&&80!=this.options.port)&&(r=":"+this.options.port),t=this.options.hostname+r}return n+"://"+t+this.options.path+e},f.prototype.open=function(){var t=this;this.state=this.CONNECTING;var e=this.uri(),n=o(e,this.options);n.binaryType=this.options.binaryType,this.socket=n,n.onopen=function(){t._onOpen()},n.onclose=function(e){var n;n=null==e.code?1005:e.code,t._onClose(n,e.reason)},n.onmessage=function(e,n){t._onMessage(e.data)},n.onerror=function(e){t.state===t.CONNECTING&&t._onClose(1006)},this._connectTimeoutRef=setTimeout(function(){t._onClose(4007),t.socket.close(4007)},this.connectTimeout)},f.prototype._onOpen=function(){var t=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake(function(e,n){e?(t._onError(e),t._onClose(4003),t.socket.close(4003)):(t.state=t.OPEN,i.prototype.emit.call(t,"open",n),t._resetPingTimeout())})},f.prototype._handshake=function(t){var e=this;this.auth.loadToken(this.authTokenName,function(n,r){if(n)t(n);else{e.emit("#handshake",{authToken:r},{force:!0},function(e,n){n&&(n.authToken=r,n.authError&&(n.authError=u.hydrateError(n.authError))),t(e,n)})}})},f.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e in this._callbackMap)if(this._callbackMap.hasOwnProperty(e)){var n=this._callbackMap[e];delete this._callbackMap[e],clearTimeout(n.timeout),delete n.timeout;var r="Event '"+n.event+"' was aborted due to a bad connection",o=new l(r,t),i=n.callback;delete n.callback,i.call(n,o,n)}},f.prototype._onClose=function(t,e){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),this.state==this.OPEN?(this.state=this.CLOSED,i.prototype.emit.call(this,"close",t,e),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state==this.CONNECTING&&(this.state=this.CLOSED,i.prototype.emit.call(this,"openAbort",t,e),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},f.prototype._handleEventObject=function(t,e){if(t&&null!=t.event){var n=new a(this,t.cid);i.prototype.emit.call(this,"event",t.event,t.data,n)}else if(t&&null!=t.rid){var r=this._callbackMap[t.rid];if(r&&(clearTimeout(r.timeout),delete r.timeout,delete this._callbackMap[t.rid],r.callback)){var o=u.hydrateError(t.error);r.callback(o,t.data)}}else i.prototype.emit.call(this,"event","raw",e)},f.prototype._onMessage=function(t){i.prototype.emit.call(this,"event","message",t);var e=this.decode(t);if("#1"==e)this._resetPingTimeout(),this.socket.readyState==this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(e))for(var n=e.length,r=0;r<n;r++)this._handleEventObject(e[r],t);else this._handleEventObject(e,t)},f.prototype._onError=function(t){i.prototype.emit.call(this,"error",t)},f.prototype._resetPingTimeout=function(){var t=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout(function(){t._onClose(4e3),t.socket.close(4e3)},this.pingTimeout)},f.prototype.getBytesReceived=function(){return this.socket.bytesReceived},f.prototype.close=function(t,e){if(t=t||1e3,this.state==this.OPEN){var n={code:t,data:e};this.emit("#disconnect",n),this._onClose(t,e),this.socket.close(t)}else this.state==this.CONNECTING&&(this._onClose(t,e),this.socket.close(t))},f.prototype.emitObject=function(t,e){var n={event:t.event,data:t.data};return t.callback&&(n.cid=t.cid=this.callIdGenerator(),this._callbackMap[t.cid]=t),this.sendObject(n,e),t.cid||null},f.prototype._handleEventAckTimeout=function(t){t.cid&&delete this._callbackMap[t.cid],delete t.timeout;var e=t.callback;if(e){delete t.callback;var n=new c("Event response for '"+t.event+"' timed out");e.call(t,n,t)}},f.prototype.emit=function(t,e,n,r){var o,i,a=this;r?(i=n,o=r):n instanceof Function?(i={},o=n):i=n;var s={event:t,data:e,callback:o};o&&!i.noTimeout&&(s.timeout=setTimeout(function(){a._handleEventAckTimeout(s)},this.options.ackTimeout));var u=null;return(this.state==this.OPEN||i.force)&&(u=this.emitObject(s,i)),u},f.prototype.cancelPendingResponse=function(t){delete this._callbackMap[t]},f.prototype.decode=function(t){return this.codec.decode(t)},f.prototype.encode=function(t){return this.codec.encode(t)},f.prototype.send=function(t){this.socket.readyState!=this.socket.OPEN?this._onClose(1005):this.socket.send(t)},f.prototype.serializeObject=function(t){var e,n;try{e=this.encode(t)}catch(t){n=t,this._onError(n)}return n?null:e},f.prototype.sendObjectBatch=function(t){var e=this;this._batchSendList.push(t),this._batchTimeout||(this._batchTimeout=setTimeout(function(){if(delete e._batchTimeout,e._batchSendList.length){var t=e.serializeObject(e._batchSendList);null!=t&&e.send(t),e._batchSendList=[]}},this.options.pubSubBatchDuration||0))},f.prototype.sendObjectSingle=function(t){var e=this.serializeObject(t);null!=e&&this.send(e)},f.prototype.sendObject=function(t,e){e&&e.batch?this.sendObjectBatch(t):this.sendObjectSingle(t)},e.exports.SCTransport=f}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./response":3,"component-emitter":12,querystring:18,"sc-errors":21,ws:7}],7:[function(t,e,n){var r,o=(r="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}()).WebSocket||r.MozWebSocket;function i(t,e,n){return e?new o(t,e):new o(t)}o&&(i.prototype=o.prototype),e.exports=o?i:null},{}],8:[function(t,e,r){(function(t){!function(n){var o="object"==(void 0===r?"undefined":s(r))&&r,i="object"==(void 0===e?"undefined":s(e))&&e&&e.exports==o&&e,a="object"==(void 0===t?"undefined":s(t))&&t;a.global!==a&&a.window!==a||(n=a);var u=function(t){this.message=t};(u.prototype=new Error).name="InvalidCharacterError";var c=function(t){throw new u(t)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,p={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,o,i=t.length%3,a="",s=-1,u=t.length-i;++s<u;)e=t.charCodeAt(s)<<16,n=t.charCodeAt(++s)<<8,r=t.charCodeAt(++s),a+=l.charAt((o=e+n+r)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==i?(e=t.charCodeAt(s)<<8,n=t.charCodeAt(++s),a+=l.charAt((o=e+n)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==i&&(o=t.charCodeAt(s),a+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(f,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",a=-1;++a<e;)r=l.indexOf(t.charAt(a)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},version:"0.1.0"};if(o&&!o.nodeType)if(i)i.exports=p;else for(var h in p)p.hasOwnProperty(h)&&(o[h]=p[h]);else n.base64=p}(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){n.byteLength=function(t){return 3*t.length/4-c(t)},n.toByteArray=function(t){var e,n,r,a,s,u=t.length;a=c(t),s=new i(3*u/4-a),n=a>0?u-4:u;var l=0;for(e=0;e<n;e+=4)r=o[t.charCodeAt(e)]<<18|o[t.charCodeAt(e+1)]<<12|o[t.charCodeAt(e+2)]<<6|o[t.charCodeAt(e+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;2===a?(r=o[t.charCodeAt(e)]<<2|o[t.charCodeAt(e+1)]>>4,s[l++]=255&r):1===a&&(r=o[t.charCodeAt(e)]<<10|o[t.charCodeAt(e+1)]<<4|o[t.charCodeAt(e+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r);return s},n.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i="",a=[],s=0,u=n-o;s<u;s+=16383)a.push(f(t,s,s+16383>u?u:s+16383));1===o?(e=t[n-1],i+=r[e>>2],i+=r[e<<4&63],i+="=="):2===o&&(e=(t[n-2]<<8)+t[n-1],i+=r[e>>10],i+=r[e>>4&63],i+=r[e<<2&63],i+="=");return a.push(i),a.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function l(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function f(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],o.push(l(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],10:[function(t,e,n){var r=t("base64-js"),o=t("ieee754");n.Buffer=s,n.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(t){if(t>i)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=s.prototype,e}function s(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(t)}return u(t,e,n)}function u(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return F(t)?function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");var r;r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n);return r.__proto__=s.prototype,r}(t,e,n):"string"==typeof t?function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,e),r=a(n),o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e):function(t){if(s.isBuffer(t)){var e=0|p(t.length),n=a(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(t){if(q(t)||"length"in t)return"number"!=typeof t.length||V(t.length)?a(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t){return c(t),a(t<0?0:0|p(t))}function f(t){for(var e=t.length<0?0:0|p(t.length),n=a(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function h(t,e){if(s.isBuffer(t))return t.length;if(q(t)||F(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return D(t).length;e=(""+e).toLowerCase(),r=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){f=!1;break}if(f)return i}return-1}function m(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(V(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return B(D(e,t.length-n),t,n,r)}function g(t,e,n,r){return B(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return g(t,e,n,r)}function _(t,e,n,r){return B(U(e),t,n,r)}function E(t,e,n,r){return B(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=k));return n}(r)}n.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(t,e,n){return u(t,e,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},s.allocUnsafe=function(t){return l(t)},s.allocUnsafeSlow=function(t){return l(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,o){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,u=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return g(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=L(t[i]);return o}function x(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,i){return e=+e,n>>>=0,i||I(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,i){return e=+e,n>>>=0,i||I(t,0,n,8),o.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},s.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},s.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);A(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);A(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=s.isBuffer(t)?t:new s(t,r),u=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%u]}return this};var R=/[^+/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function D(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(t){return r.toByteArray(function(t){if((t=t.trim().replace(R,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function F(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function q(t){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(t)}function V(t){return t!=t}},{"base64-js":9,ieee754:13}],11:[function(t,e,n){(function(t){var n=function(){function e(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function i(a,c,l,f,p){"object"===(void 0===c?"undefined":s(c))&&(l=c.depth,f=c.prototype,p=c.includeNonEnumerable,c=c.circular);var h=[],d=[],y=void 0!==t;return void 0===c&&(c=!0),void 0===l&&(l=1/0),function a(l,v){if(null===l)return null;if(0===v)return l;var m,b;if("object"!=(void 0===l?"undefined":s(l)))return l;if(e(l,n))m=new n;else if(e(l,r))m=new r;else if(e(l,o))m=new o(function(t,e){l.then(function(e){t(a(e,v-1))},function(t){e(a(t,v-1))})});else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,u(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(y&&t.isBuffer(l))return m=new t(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===f?(b=Object.getPrototypeOf(l),m=Object.create(b)):(m=Object.create(f),b=f)}if(c){var g=h.indexOf(l);if(-1!=g)return d[g];h.push(l),d.push(m)}for(var w in e(l,n)&&l.forEach(function(t,e){var n=a(e,v-1),r=a(t,v-1);m.set(n,r)}),e(l,r)&&l.forEach(function(t){var e=a(t,v-1);m.add(e)}),l){var _;b&&(_=Object.getOwnPropertyDescriptor(b,w)),_&&null==_.set||(m[w]=a(l[w],v-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(l);for(w=0;w<E.length;w++){var O=E[w];(!(k=Object.getOwnPropertyDescriptor(l,O))||k.enumerable||p)&&(m[O]=a(l[O],v-1),k.enumerable||Object.defineProperty(m,O,{enumerable:!1}))}}if(p){var S=Object.getOwnPropertyNames(l);for(w=0;w<S.length;w++){var k,T=S[w];(k=Object.getOwnPropertyDescriptor(l,T))&&k.enumerable||(m[T]=a(l[T],v-1),Object.defineProperty(m,T,{enumerable:!1}))}}return m}(a,l)}function a(t){return Object.prototype.toString.call(t)}function u(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"===(void 0===t?"undefined":s(t))&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"===(void 0===t?"undefined":s(t))&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"===(void 0===t?"undefined":s(t))&&"[object RegExp]"===a(t)},i.__getRegExpFlags=u,i}();"object"===(void 0===e?"undefined":s(e))&&e.exports&&(e.exports=n)}).call(this,t("buffer").Buffer)},{buffer:10}],12:[function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],13:[function(t,e,n){n.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*y}},{}],14:[function(t,e,n){var r,o;function i(){if(arguments.length)return i.from(arguments)}function a(){}r="An argument without append, prepend, or detach methods was given to `List",o=i.prototype,i.of=function(){return i.from.call(this,arguments)},i.from=function(t){var e,n,r,o=new this;if(t&&(e=t.length))for(n=-1;++n<e;)null!==(r=t[n])&&void 0!==r&&o.append(r);return o},o.head=null,o.tail=null,o.toArray=function(){for(var t=this.head,e=[];t;)e.push(t),t=t.next;return e},o.prepend=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(r+"#prepend`.");var e;return this,(e=this.head)?e.prepend(t):(t.detach(),t.list=this,this.head=t,t)},o.append=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(r+"#append`.");var e,n;return this,(n=this.tail)?n.append(t):(e=this.head)?e.append(t):(t.detach(),t.list=this,this.head=t,t)},i.Item=a;var s=a.prototype;s.next=null,s.prev=null,s.list=null,s.detach=function(){var t=this.list,e=this.prev,n=this.next;return t?(t.tail===this&&(t.tail=e),t.head===this&&(t.head=n),t.tail===t.head&&(t.tail=null),e&&(e.next=n),n&&(n.prev=e),this.prev=this.next=this.list=null,this):this},s.prepend=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(r+"Item#prepend`.");var e=this.list,n=this.prev;return!!e&&(t.detach(),n&&(t.prev=n,n.next=t),t.next=this,t.list=e,this.prev=t,this===e.head&&(e.head=t),e.tail||(e.tail=this),t)},s.append=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(r+"Item#append`.");var e=this.list,n=this.next;return!!e&&(t.detach(),n&&(t.next=n,n.prev=t),t.prev=this,t.list=e,this.next=t,this!==e.tail&&e.tail||(e.tail=t),t)},e.exports=i},{}],15:[function(t,e,n){e.exports=t("./_source/linked-list.js")},{"./_source/linked-list.js":14}],16:[function(t,e,n){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,h,d,y=t[l].replace(s,"%20"),v=y.indexOf(n);v>=0?(f=y.substr(0,v),p=y.substr(v+1)):(f=y,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),r(a,h)?o(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],17:[function(t,e,n){var r=function(t){switch(void 0===t?"undefined":s(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,u){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":s(t))?i(a(t),function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):u?encodeURIComponent(r(u))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],18:[function(t,e,n){n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":16,"./encode":17}],19:[function(t,e,n){var r=t("component-emitter"),o=function(t,e,n){r.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=t,this.state=this.UNSUBSCRIBED,this.client=e,this.options=n||{},this.setOptions(this.options)};(o.prototype=Object.create(r.prototype)).setOptions=function(t){t||(t={}),this.waitForAuth=t.waitForAuth||!1,this.batch=t.batch||!1,void 0!==t.data&&(this.data=t.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(t){this.client.subscribe(this.name,t)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(t){return this.client.isSubscribed(this.name,t)},o.prototype.publish=function(t,e){this.client.publish(this.name,t,e)},o.prototype.watch=function(t){this.client.watch(this.name,t)},o.prototype.unwatch=function(t){this.client.unwatch(this.name,t)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},e.exports.SCChannel=o},{"component-emitter":12}],20:[function(t,e,n){e.exports=function(t){var e=[],n=[];return function t(r,o){var i,a,u;if(!("object"!==(void 0===r?"undefined":s(r))||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(u=[],i=0;i<r.length;i+=1)u[i]=t(r[i],o+"["+i+"]");else for(a in u={},r)Object.prototype.hasOwnProperty.call(r,a)&&(u[a]=t(r[a],o+"["+JSON.stringify(a)+"]"));return u}return r}(t,"$")}},{}],21:[function(t,e,n){var r=t("./decycle"),o=function(){return!this}();function i(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function _(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function O(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),_.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),O.prototype=Object.create(Error.prototype),e.exports={AuthTokenExpiredError:i,AuthTokenInvalidError:a,AuthTokenNotBeforeError:u,AuthTokenError:c,SilentMiddlewareBlockedError:l,InvalidActionError:f,InvalidArgumentsError:p,InvalidOptionsError:h,InvalidMessageError:d,SocketProtocolError:y,ServerProtocolError:v,HTTPServerError:m,ResourceLimitError:b,TimeoutError:g,BadConnectionError:w,BrokerError:_,ProcessExitError:E,UnknownError:O},e.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4000:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out"},e.exports.socketProtocolIgnoreStatuses={1000:"Socket closed normally",1001:"Socket hung up"};var S={domain:1,domainEmitter:1,domainThrown:1};e.exports.dehydrateError=function(t,e){var n;if(t&&"object"==(void 0===t?"undefined":s(t)))for(var o in n={message:t.message},e&&(n.stack=t.stack),t)S[o]||(n[o]=t[o]);else n="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return r(n)},e.exports.hydrateError=function(t){var e=null;if(null!=t)if("object"==(void 0===t?"undefined":s(t)))for(var n in e=new Error(t.message),t)t.hasOwnProperty(n)&&(e[n]=t[n]);else e=t;return e},e.exports.decycle=r},{"./decycle":20}],22:[function(t,e,r){(function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=/^[ \n\r\t]*[{\[]/,o=function(e,r){if(t.ArrayBuffer&&r instanceof t.ArrayBuffer)return{base64:!0,data:function(t){for(var e=new Uint8Array(t),r=e.length,o="",i=0;i<r;i+=3)o+=n[e[i]>>2],o+=n[(3&e[i])<<4|e[i+1]>>4],o+=n[(15&e[i+1])<<2|e[i+2]>>6],o+=n[63&e[i+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(r)};if(t.Buffer){if(r instanceof t.Buffer)return{base64:!0,data:r.toString("base64")};if(r&&"Buffer"===r.type&&Array.isArray(r.data))return{base64:!0,data:(t.Buffer.from?t.Buffer.from(r.data):new t.Buffer(r.data)).toString("base64")}}return r};e.exports.decode=function(t){if(null==t)return null;if("#1"===t||"#2"===t)return t;var e=t.toString();if(!r.test(e))return e;try{return JSON.parse(e)}catch(t){}return e},e.exports.encode=function(t){return"#1"===t||"#2"===t?t:JSON.stringify(t,o)}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(e,n(2))},function(t,e,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(66),i=n(67),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function l(t){var n,o=e&&e.location||{},i={},a=void 0===(t=t||o)?"undefined":r(t);if("blob:"===t.protocol)i=new p(unescape(t.pathname),{});else if("string"===a)for(n in i=new p(t,{}),c)delete i[n];else if("object"===a){for(n in t)n in c||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=s.test(t.href))}return i}function f(t){var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,n){if(!(this instanceof p))return new p(t,e,n);var a,s,c,h,d,y,v=u.slice(),m=void 0===e?"undefined":r(e),b=this,g=0;for("object"!==m&&"string"!==m&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=l(e),a=!(s=f(t||"")).protocol&&!s.slashes,b.slashes=s.slashes||a&&e.slashes,b.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(v[3]=[/(.*)/,"pathname"]);g<v.length;g++)"function"!=typeof(h=v[g])?(c=h[0],y=h[1],c!=c?b[y]=t:"string"==typeof c?~(d=t.indexOf(c))&&("number"==typeof h[2]?(b[y]=t.slice(0,d),t=t.slice(d+h[2])):(b[y]=t.slice(d),t=t.slice(0,d))):(d=c.exec(t))&&(b[y]=d[1],t=t.slice(0,d.index)),b[y]=b[y]||a&&h[3]&&e[y]||"",h[4]&&(b[y]=b[y].toLowerCase())):t=h(t);n&&(b.query=n(b.query)),a&&e.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==e.pathname)&&(b.pathname=function(t,e){for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(b.pathname,e.pathname)),o(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(h=b.auth.split(":"),b.username=h[0]||"",b.password=h[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}p.prototype={set:function(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),r[t]=e;break;case"port":r[t]=e,o(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";r[t]=e.charAt(0)!==a?a+e:e}else r[t]=e;break;default:r[t]=e}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(r[c[1]]=r[c[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(e="object"===r(n.query)?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(a+=n.hash),a}},p.extractProtocol=f,p.location=l,p.qs=i,t.exports=p}).call(e,n(2))},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(t){return decodeURIComponent(t.replace(/\+/g," "))}e.stringify=function(t,e){e=e||"";var n=[];for(var o in"string"!=typeof e&&(e="?"),t)r.call(t,o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return n.length?e+n.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),a=o(e[2]);i in r||(r[i]=a)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(69));e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
                                                                                                                                                           * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                           * For licensing, see LICENSE.md.
                                                                                                                                                           */(this,t),this.source=e,this.name=n,this.path=[],this.stop=(0,r.default)(),this.off=(0,r.default)()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=
/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function(){return function t(){t.called=!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={get:function(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(72);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return function(t){return t&&t.__esModule?t:{default:t}}(r).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(31)),o=c(n(73)),i=c(n(74)),a=c(n(13)),s=c(n(36)),u=c(n(84));function c(t){return t&&t.__esModule?t:{default:t}}var l=!Object.prototype.propertyIsEnumerable.call({valueOf:1},"valueOf"),f=(0,i.default)(function(t,e){if(l||(0,s.default)(e)||(0,a.default)(e))(0,o.default)(e,(0,u.default)(e),t);else for(var n in e)(0,r.default)(t,n,e[n])});e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(31));e.default=function(t,e,n,o){n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],u=o?o(n[s],t[s],s,n,t):t[s];(0,r.default)(n,s,u)}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(75)),o=i(n(78));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return(0,o.default)(function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&(0,r.default)(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++o<i;){var u=n[o];u&&t(e,u,o,a)}return e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=u(n(32)),i=u(n(13)),a=u(n(35)),s=u(n(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){if(!(0,s.default)(n))return!1;var u=void 0===e?"undefined":r(e);return!!("number"==u?(0,i.default)(n)&&(0,a.default)(e,n.length):"string"==u&&e in n)&&(0,o.default)(n[e],t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,function(t){return t&&t.__esModule?t:{default:t}}(n(77)).default)("length");e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(79)),o=i(n(80));function i(t){return t&&t.__esModule?t:{default:t}}var a="Expected a function",s=Math.max;e.default=function(t,e){if("function"!=typeof t)throw new TypeError(a);return e=s(void 0===e?t.length-1:(0,o.default)(e),0),function(){for(var n=arguments,o=-1,i=s(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var u=Array(e+1);for(o=-1;++o<e;)u[o]=n[o];return u[e]=a,(0,r.default)(t,this,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(81));e.default=function(t){var e=(0,r.default)(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(82));var o=1/0,i=1.7976931348623157e308;e.default=function(t){return t?(t=(0,r.default)(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(33)),o=a(n(6)),i=a(n(83));function a(t){return t&&t.__esModule?t:{default:t}}var s=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt;e.default=function(t){if("number"==typeof t)return t;if((0,i.default)(t))return s;if((0,o.default)(t)){var e=(0,r.default)(t.valueOf)?t.valueOf():t;t=(0,o.default)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=l.test(t);return n||f.test(t)?p(t.slice(2),n?2:8):c.test(t)?s:+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){return t&&t.__esModule?t:{default:t}}(n(14));var i="[object Symbol]",a=Object.prototype.toString;e.default=function(t){return"symbol"==(void 0===t?"undefined":r(t))||(0,o.default)(t)&&a.call(t)==i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(85)),o=s(n(91)),i=s(n(35)),a=s(n(36));function s(t){return t&&t.__esModule?t:{default:t}}var u=Object.prototype.hasOwnProperty;e.default=function(t){for(var e=-1,n=(0,a.default)(t),s=(0,r.default)(t),c=s.length,l=(0,o.default)(t),f=!!l,p=l||[],h=p.length;++e<c;){var d=s[e];f&&("length"==d||(0,i.default)(d,h))||"constructor"==d&&(n||!u.call(t,d))||p.push(d)}return p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(86)),o=i(n(90));function i(t){return t&&t.__esModule?t:{default:t}}var a=Object.prototype,s=r.default?r.default.enumerate:void 0,u=a.propertyIsEnumerable;function c(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}s&&!u.call({valueOf:1},"valueOf")&&(c=function(t){return(0,o.default)(s(t))}),e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(87)).default.Reflect;e.default=r},function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){return t&&t.__esModule?t:{default:t}}(n(89));var a={function:!0,object:!0},s=a[o(e)]&&e&&!e.nodeType?e:void 0,u=a[o(t)]&&t&&!t.nodeType?t:void 0,c=(0,i.default)(s&&u&&"object"==(void 0===r?"undefined":o(r))&&r),l=(0,i.default)(a["undefined"==typeof self?"undefined":o(self)]&&self),f=(0,i.default)(a["undefined"==typeof window?"undefined":o(window)]&&window),p=(0,i.default)(a[o(void 0)]&&void 0),h=c||f!==(p&&p.window)&&f||l||p||Function("return this")();e.default=h}).call(e,n(88)(t),n(2))},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&t.Object===Object?t:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(92)),o=u(n(93)),i=u(n(37)),a=u(n(34)),s=u(n(95));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=t?t.length:void 0;return(0,a.default)(e)&&((0,i.default)(t)||(0,s.default)(t)||(0,o.default)(t))?(0,r.default)(e,String):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(94));var o="[object Arguments]",i=Object.prototype,a=i.hasOwnProperty,s=i.toString,u=i.propertyIsEnumerable;e.default=function(t){return(0,r.default)(t)&&a.call(t,"callee")&&(!u.call(t,"callee")||s.call(t)==o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13)),o=i(n(14));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return(0,o.default)(t)&&(0,r.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(37)),o=i(n(14));function i(t){return t&&t.__esModule?t:{default:t}}var a="[object String]",s=Object.prototype.toString;e.default=function(t){return"string"==typeof t||!(0,r.default)(t)&&(0,o.default)(t)&&s.call(t)==a}},function(t,e,n){"use strict";var r=n(97);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){"use strict";var r=n(98),o=n(137);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){"use strict";var r=n(15),o=n(99),i=n(104),a=n(134);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(15),i=n(16),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(e,n(2))},function(t,e,n){"use strict";var r=n(17),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return null!=t&&"object"==(void 0===t?"undefined":r(t))}},function(t,e,n){"use strict";var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(105)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=i},function(t,e,n){"use strict";var r=n(106),o=500;t.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){"use strict";var r=n(107),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){"use strict";var r=n(108),o=n(129),i=n(131),a=n(132),s=n(133);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){"use strict";var r=n(109),o=n(121),i=n(128);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){"use strict";var r=n(110),o=n(117),i=n(118),a=n(119),s=n(120);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){"use strict";var r=n(7);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){"use strict";var r=n(112),o=n(113),i=n(19),a=n(115),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(a(t))}},function(t,e,n){"use strict";var r=n(38),o=n(19),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e,n){"use strict";var r=n(114),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,n){"use strict";var r=n(18)["__core-js_shared__"];t.exports=r},function(t,e,n){"use strict";var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){"use strict";t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){"use strict";t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){"use strict";var r=n(7),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){"use strict";var r=n(7),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){"use strict";var r=n(7),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){"use strict";var r=n(122),o=n(123),i=n(125),a=n(126),s=n(127);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){"use strict";t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){"use strict";var r=n(8),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){"use strict";t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){"use strict";var r=n(39)(n(18),"Map");t.exports=r},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":r(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){"use strict";var r=n(135);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){"use strict";var r=n(17),o=n(136),i=n(15),a=n(16),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){"use strict";t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){"use strict";var r=n(16),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=Symbol("token"),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[o]=e}return r(t,[{key:"saveToken",value:function(t,e,n,r){this[o]=e,r&&r(null,this[o])}},{key:"removeToken",value:function(t,e){var n=this[o];this[o]=void 0,e&&e(null,n)}},{key:"loadToken",value:function(t,e){e&&e(null,this[o])}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(3)),o=a(n(12)),i=a(n(40));function a(t){return t&&t.__esModule?t:{default:t}}var s=function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.watch(function(t){var e=i.default.fromSocket(t),o=e.channel+":"+e.type;r.fire("all:"+o,e.data,e.origin),e.origin!==n.sessionId&&r.fire(o,e.data,e.origin)})};(0,r.default)(s,o.default),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(141)),i=a(n(142));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._requestedServices=new Map,this._createPromises=new Map,this._wsGateway=e}return r(t,[{key:"register",value:function(t,e,n){return this._requestedServices.set(t+e,n)}},{key:"get",value:async function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if(this.has(t,e))return this._requestedServices.get(e._SERVICE+t);if(this._createPromises.has(e._SERVICE+t))return await this._createPromises.get(e._SERVICE+t);var o=new Promise(async function(o,i){try{var a=await r(n._wsGateway,t,e);a&&"function"==typeof a.connect&&await a.connect(n._wsGateway),o(a)}catch(t){i(t)}n._createPromises.delete(e._SERVICE+t)});return o.catch(function(t){return console.warn("Error while adding Promise to awaiting register.",t)}),this._createPromises.set(e._SERVICE+t,o),await o}},{key:"has",value:function(t,e){return this._requestedServices.has(e._SERVICE+t)}}]),t}();async function u(t,e,n){var r=await t._sendRequest(n._SERVICE,new o.default(e));if(i.default.fromResponse(r).exists)return n.create(e)}e.default=s},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,null,[{key:"fromPayload",value:function(t){return new e(t.id)}},{key:"TYPE",get:function(){return"exists"}}]),e}();t.exports=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=Symbol("exists"),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[o]=e}return r(t,[{key:"toJSON",value:function(){return{exists:!!this[o]}}},{key:"exists",get:function(){return this[o]}}],[{key:"fromResponse",value:function(e){return new t(!!e.exists)}}]),t}();t.exports=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,null,[{key:"fromPayload",value:function(t){return new e(t.id)}},{key:"TYPE",get:function(){return"user:get"}}]),e}();t.exports=i},function(t,e,n){"use strict";t.exports=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.service=e,this.message=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(22)),i=a(n(49));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,null,[{key:"create",value:function(t){return new e(t)}},{key:"_getItemFactory",value:function(){return i.default}},{key:"_SERVICE",get:function(){return"comment-thread-collections"}}]),e}();e.default=s,s.getConnectedSessions=void 0},function(t,e,n){"use strict";var r,o,i=n(42),a=n(43),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,v=d-s+(y-u)/1e4;if(v<0&&void 0===t.clockseq&&(p=p+1&16383),(v<0||d>s)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=y,o=p;var m=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var b=d/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var g=0;g<6;++g)l[c+g]=f[g];return e||a(l)}},function(t,e,n){"use strict";var r=n(42),o=n(43);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=Symbol("sessionType"),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.TYPE,t));return r[i]=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.sessionType=this.sessionType,t}},{key:"sessionType",get:function(){return this[i]}}],[{key:"fromPayload",value:function(t){return new e(t.id,t.sessionType)}},{key:"TYPE",get:function(){return"get-sessions"}}]),e}();t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(24),i=Symbol("sessions"),a=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r[i]=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.sessions=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this[i])),t}},{key:"sessions",get:function(){return this[i]}}],[{key:"fromServiceResponse",value:function(t){return new e(t.channel,t.sessions)}}]),e}();t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=l(n(44)),a=l(n(23)),s=l(n(10)),u=l(n(40)),c=l(n(5));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t,n,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{idProperty:"id"})),l=!0,f=!1,p=void 0;try{for(var h,d=s[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var y=h.value;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",u).call(u,y)}}catch(t){f=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(f)throw p}}return u.listenTo(t,"change:state",async function(n,s,l){if(l===c.default.STATE_DISCONNECTED){for(;u.length;)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",u).call(u,0);u.fire("disconnected")}if(l===c.default.STATE_CONNECTED){var f=await a.default._requestConnectSessions(t,r,i),p=f.channel,h=f.alreadyConnected,d=!0,y=!1,v=void 0;try{for(var m,b=h[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){var g=m.value;u.get(g.id)||o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",u).call(u,g)}}catch(t){y=!0,v=t}finally{try{!d&&b.return&&b.return()}finally{if(y)throw v}}u._init(t,p,i)}}),u._init(t,n,i),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"_init",value:function(t,n,r){var i=this,a=t._getServiceChannel(r),c="all:"+n+":"+u.default.TYPE_CONNECT;this.listenTo(a,c,async function(n,r,a){var u=a;if(-1===i.getIndex(u)){var c={id:u};r&&(c.user=await s.default.get(t,r)),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",i).call(i,c)}});var l="all:"+n+":"+u.default.TYPE_DISCONNECT;this.listenTo(a,l,async function(t,n,r){-1!==i.getIndex(r)&&o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",i).call(i,r)}),this.on("disconnected",function(){i.stopListening(a)})}}]),e}();f.prototype.add=void 0,f.prototype.remove=void 0,e.default=f},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=Symbol("attributes"),a=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.TYPE,t));return r[i]=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.attributes=this.attributes,t}},{key:"attributes",get:function(){return this[i]}}],[{key:"fromPayload",value:function(t){return new e(t.id,t.attributes)}},{key:"TYPE",get:function(){return"liveunit:connect"}}]),e}();t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(24),i=Symbol("current"),a=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r[i]=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.current=this.current,t}},{key:"current",get:function(){return this[i]}}],[{key:"fromResponse",value:function(t){return new e(t.channel,t.current)}}]),e}();t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=Symbol("attribute"),a=Symbol("value"),s=Symbol("oldValue"),u="liveunit:set",c=function(t){function e(t,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u,t));return c[i]=n,c[a]=r,c[s]=o,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.attribute=this[i],t.value=this[a],t.oldValue=this[s],t}},{key:"attribute",get:function(){return this[i]}},{key:"value",get:function(){return this[a]}},{key:"oldValue",get:function(){return this[s]}}],[{key:"fromPayload",value:function(t){return new e(t.id,t.attribute,t.value,t.oldValue)}},{key:"TYPE",get:function(){return u}}]),e}();t.exports=c},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1),i=Symbol("items"),a=Symbol("version"),s=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.TYPE,t));return o[i]=r,o[a]=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.version=this.version,t.items=this.items,t}},{key:"version",get:function(){return this[a]}},{key:"items",get:function(){return this[i]}}],[{key:"fromPayload",value:function(t){return new e(t.id,t.version,t.items)}},{key:"TYPE",get:function(){return"liveunitcollection:connect"}}]),e}();t.exports=s},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(24),i=Symbol("version"),a=Symbol("wereChangesApplied"),s=Symbol("items"),u=function(t){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return u[i]=n,u[a]=r,u[s]=o,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"toJSON",value:function(){var t=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.version=this.version,t.wereChangesApplied=this.wereChangesApplied,t.items=this.items,t}},{key:"version",get:function(){return this[i]}},{key:"wereChangesApplied",get:function(){return this[a]}},{key:"items",get:function(){return this[s]}}],[{key:"fromResponse",value:function(t){return new e(t.channel,t.version,!!t.wereChangesApplied,t.items)}}]),e}();t.exports=u},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(48),i=Symbol("version"),a=Symbol("wereChangesApplied"),s=Symbol("history"),u=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[i]=e,this[a]=n,this[s]=r}return r(t,[{key:"toJSON",value:function(){return{version:this.version,wereChangesApplied:this.wereChangesApplied,history:this.history.map(function(t){return"string"==typeof t?JSON.parse(t):t})}}},{key:"version",get:function(){return this[i]}},{key:"wereChangesApplied",get:function(){return this[a]}},{key:"history",get:function(){return this[s]}}],[{key:"fromResponse",value:function(e){var n=(e.history||[]).map(function(t){return o.createFromObject(t)}).filter(function(t){return void 0!==t});return new t(e.version,!!e.wereChangesApplied,n)}}]),t}();t.exports=u},function(t,e,n){"use strict";var r,o,i,a;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=function(t){return t.map(function(t){return t.constructor.fromPayload(t.toJSON())})}(t),r=0;r<n.length;r++){for(var o=n[r],i=0;i<e.length;i++){var a=e[i],f=a.type===o.type&&a.itemId===o.itemId&&a.index===o.index;if(f)o=new c.default(o.baseVersion),e.splice(i,1,new c.default(o.baseVersion));else if(a.itemId===o.itemId&&a.type===o.type){if(a.type===s.default.TYPE){var p=a.index,h=o.index;o=new l.default(o.index,o.baseVersion,o.itemId,p,h),e.splice(i,1,new c.default(o.baseVersion))}a.type===u.default.TYPE&&(o=new c.default,e.splice(i,1,new c.default(o.baseVersion)))}else d(o,a)}n.splice(r,1,o)}return n};var s=f(n(25)),u=f(n(26)),c=f(n(47)),l=f(n(46));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=(p(a={},s.default,(p(r={},s.default,function(t,e){t.index<e.index?e.index++:t.index++}),p(r,u.default,y),r)),p(a,u.default,(p(o={},s.default,function(t,e){return y(e,t)}),p(o,u.default,function(t,e){t.index>e.index?t.index--:e.index--}),o)),p(a,l.default,(p(i={},s.default,function(t,e){t.toIndex<e.index?e.index++:t.toIndex++}),p(i,u.default,function(t,e){t.toIndex>e.index?t.toIndex--:e.index++}),i)),a);function d(t,e){t instanceof c.default||e instanceof c.default||(h[t.constructor][e.constructor](t,e),t instanceof l.default||e.baseVersion++)}function y(t,e){t.index>e.index?t.index--:e.index++}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=["Tonette","Saul","Ruthe","Marry","Zoe","Luba","Sandra","Britta","Serita","Elise","Gabriella","Edie","Latrisha","Jody","Carina","Glendora","May","Clint","Lexie","Ray","Milly","Nicki","Haywood","Evonne","Lorinda","Noella","Titus","Pierre","Stanton","Rosaline","Mohamed","Teresa","Tiera","Leonor","Awilda","Frederic","Rima","Kourtney","Glenda","Enriqueta","Ashli","Giselle","Mathew","Chantel","Stevie","Dawn","Dyan","Nell","Marylin","Angle","Chas","Sherice","Francisca","Sarita","Georgianna","Drew","Luanna","Abel","Essie","Estrella","Usha","Wilfredo","Giovanni","Archie","Marianna","Elna","Miriam","Mendy","Lorrie","Xavier","Stacee","Claretha","Gia","Lolita","Laurene","Amalia","Cathy","Bessie","Tia","Zulma","Maira","Maryann","Rosalind","Vita","Jude","Caitlyn","Amal","Janina","Janeth","Helene","Rochelle","Lilli","Madeline","Maryam","Albertina","Juan","Lauri","Muriel","Brandon"],e=["King","Egli","Zwart","Principe","Siddiqui","Ehlers","Coltrane","Grimes","Cavallaro","Croce","Haddox","Weatherspoon","Gilpatrick","Funderburk","Mustard","Enterline","Redden","Hayford","Hevey","Dey","Demaio","Chenard","Whalley","Light","Kleist","Huntsman","Drovin","Duenes","Weintraub","Mcbeath","Harden","Streicher","Nadel","Philbrick","Ramm","Byrge","Broce","Olivera","Hamm","Tweedie","Hershman","Hertzler","Fielding","Dao","Constante","Berens","Finks","Corvin","Lemmons","Cuenca"],n=(0,r.default)(),o=t[Math.floor(Math.random()*t.length)],i=e[Math.floor(Math.random()*e.length)];return{name:o+" "+i,id:n}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(51))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(3)),i=a(n(11));function a(t){return t&&t.__esModule?t:{default:t}}var s={refreshInterval:36e5,autoRefresh:!0},u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("`tokenUrl` must be provided");this.set("value",n.initValue),this._tokenUrl=e,this._options=Object.assign({},s,n)}return r(t,[{key:"init",value:function(){var t=this;return new Promise(function(e,n){t._options.autoRefresh&&t._startRefreshing(),t.value?e(t):t._refreshToken().then(e).catch(n)})}},{key:"_refreshToken",value:function(){var t=this;return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t._tokenUrl),r.addEventListener("load",function(){var o=r.status,i=r.response;return o<200||o>299?n("Cannot download new token!"):(t.set("value",i),e(t))}),r.addEventListener("error",function(){return n("Network Error")}),r.addEventListener("abort",function(){return n("Abort")}),r.send()})}},{key:"_startRefreshing",value:function(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}},{key:"_stopRefreshing",value:function(){clearInterval(this._refreshInterval)}}],[{key:"create",value:function(e){return new t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:s).init()}}]),t}();(0,o.default)(u,i.default),e.default=u},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],o=0,i=0;i<r.length;i+=1)if(n&&navigator.userAgent.indexOf(r[i])>=0){o=1;break}var a=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},o))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function c(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?t:l(c(t))}var f=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?f:10===t?p:f||p}function d(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function y(t){return null!==t.parentNode?y(t.parentNode):t}function v(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,o=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(t!==a&&e!==a||r.contains(o))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||d(t.firstElementChild)===t)}(a)?a:d(a);var s=y(t);return s.host?v(s.host,e):v(t,y(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function b(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function g(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],h(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function w(t){var e=t.body,n=t.documentElement,r=h(10)&&getComputedStyle(n);return{height:g("Height",e,n,r),width:g("Width",e,n,r)}}var _=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function k(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var n=m(t,"top"),r=m(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?w(t.ownerDocument):{},a=i.width||t.clientWidth||o.right-o.left,s=i.height||t.clientHeight||o.bottom-o.top,c=t.offsetWidth-a,l=t.offsetHeight-s;if(c||l){var f=u(t);c-=b(f,"x"),l-=b(f,"y"),o.width-=c,o.height-=l}return k(o)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(10),o="HTML"===e.nodeName,i=T(t),a=T(e),s=l(t),c=u(e),f=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=k({top:i.top-a.top-f,left:i.left-a.left-p,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var y=parseFloat(c.marginTop,10),v=parseFloat(c.marginLeft,10);d.top-=f-y,d.bottom-=f-y,d.left-=p-v,d.right-=p-v,d.marginTop=y,d.marginLeft=v}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(e,"top"),o=m(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=o*i,t.right+=o*i,t}(d,e)),d}function j(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function x(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?j(t):v(t,e);if("viewport"===r)i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=C(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:m(n),s=e?0:m(n,"left");return k({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=l(c(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var f=C(s,a,o);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===u(e,"position")||t(c(e)))}(a))i=f;else{var p=w(t.ownerDocument),h=p.height,d=p.width;i.top+=f.top-f.marginTop,i.bottom=h+f.top,i.left+=f.left-f.marginLeft,i.right=d+f.left}}var y="number"==typeof(n=n||0);return i.left+=y?n:n.left||0,i.top+=y?n:n.top||0,i.right-=y?n:n.right||0,i.bottom-=y?n:n.bottom||0,i}function P(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=x(n,r,i,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map(function(t){return S({key:t},s[t],{area:function(t){return t.width*t.height}(s[t])})}).sort(function(t,e){return e.area-t.area}),c=u.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),l=c.length>0?c[0].key:u[0].key,f=t.split("-")[1];return l+(f?"-"+f:"")}function A(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,r?j(e):v(e,n),r)}function I(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function M(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function N(t,e,n){n=n.split("-")[0];var r=I(t),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",c=i?"width":"height";return o[a]=e[a]+e[u]/2-r[u]/2,o[s]=n===s?e[s]-r[c]:e[M(s)],o}function R(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function L(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=R(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&s(n)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=n(e,t))}),e}function D(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function U(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var o=e[r],i=o?""+o+n:t;if(void 0!==document.body.style[i])return i}return null}function B(t){var e=t.ownerDocument;return e?e.defaultView:window}function F(t,e,n,r){n.updateBound=r,B(t).addEventListener("resize",n.updateBound,{passive:!0});var o=l(t);return function t(e,n,r,o){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),i||t(l(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,e){return B(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function V(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&V(e[n])&&(r="px"),t.style[n]=e[n]+r})}function G(t,e,n){var r=R(t,function(t){return t.name===e}),o=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!o){var i="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var W=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],z=W.slice(3);function Y(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z.indexOf(t),r=z.slice(n+1).concat(z.slice(0,n));return e?r.reverse():r}var J={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $(t,e,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(R(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,r){var o=(1===r?!i:i)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,r){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return k(s)[e]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(t,o,e,n)})})).forEach(function(t,e){t.forEach(function(n,r){V(n)&&(o[e]+=n*("-"===t[r-1]?-1:1))})}),o}var K={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var o=t.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:O({},u,i[u]),end:O({},u,i[u]+i[c]-a[c])};t.offsets.popper=S({},a,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],u=void 0;return u=V(+n)?[+n,0]:$(n,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var r=U("transform"),o=t.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var u=x(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=i,o.left=a,o[r]=s,e.boundaries=u;var c=e.priority,l=t.offsets.popper,f={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),O({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),O({},n,r)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=S({},l,f[e](t))}),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<i(r[u])&&(t.offsets.popper[u]=i(r[u])-n[c]),n[u]>i(r[s])&&(t.offsets.popper[u]=i(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!G(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],i=t.offsets,a=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(o),l=c?"height":"width",f=c?"Top":"Left",p=f.toLowerCase(),h=c?"left":"top",d=c?"bottom":"right",y=I(r)[l];s[d]-y<a[p]&&(t.offsets.popper[p]-=a[p]-(s[d]-y)),s[p]+y>a[d]&&(t.offsets.popper[p]+=s[p]+y-a[d]),t.offsets.popper=k(t.offsets.popper);var v=s[p]+s[l]/2-y/2,m=u(t.instance.popper),b=parseFloat(m["margin"+f],10),g=parseFloat(m["border"+f+"Width"],10),w=v-t.offsets.popper[p]-b-g;return w=Math.max(Math.min(a[l]-y,w),0),t.arrowElement=r,t.offsets.arrow=(O(n={},p,Math.round(w)),O(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(D(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],o=M(r),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case J.FLIP:a=[r,o];break;case J.CLOCKWISE:a=Y(r);break;case J.COUNTERCLOCKWISE:a=Y(r,!0);break;default:a=e.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],o=M(r);var c=t.offsets.popper,l=t.offsets.reference,f=Math.floor,p="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),h=f(c.left)<f(n.left),d=f(c.right)>f(n.right),y=f(c.top)<f(n.top),v=f(c.bottom)>f(n.bottom),m="left"===r&&h||"right"===r&&d||"top"===r&&y||"bottom"===r&&v,b=-1!==["top","bottom"].indexOf(r),g=!!e.flipVariations&&(b&&"start"===i&&h||b&&"end"===i&&d||!b&&"start"===i&&y||!b&&"end"===i&&v);(p||m||g)&&(t.flipped=!0,(p||m)&&(r=a[u+1]),g&&(i=function(t){return"end"===t?"start":"start"===t?"end":t}(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=S({},t.offsets.popper,N(t.instance.popper,t.offsets.reference,t.placement)),t=L(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),t.placement=M(e),t.offsets.popper=k(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!G(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=R(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,o=t.offsets.popper,i=R(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:e.gpuAcceleration,s=d(t.instance.popper),u=T(s),c={position:o.position},l={left:Math.floor(o.left),top:Math.round(o.top),bottom:Math.round(o.bottom),right:Math.floor(o.right)},f="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=U("transform"),y=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,y="right"===p?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&h)c[h]="translate3d("+y+"px, "+v+"px, 0)",c[f]=0,c[p]=0,c.willChange="transform";else{var m="bottom"===f?-1:1,b="right"===p?-1:1;c[f]=v*m,c[p]=y*b,c.willChange=f+", "+p}var g={"x-placement":t.placement};return t.attributes=S({},g,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return H(t.instance.popper,t.styles),function(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&H(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,o){var i=A(o,e,t,n.positionFixed),a=P(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),H(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Q=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=S({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){r.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return S({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&s(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return E(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=P(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=N(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=L(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,D(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),t}();Q.Utils=("undefined"!=typeof window?window:t).PopperUtils,Q.placements=W,Q.Defaults=K,e.default=Q}).call(e,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentIdFromUrl=e.getRandomUser=e.updateURL=e.uid=e.transitionEnd=e.totalOffsetTop=e.testCKE5Support=e.slider=e.polyfils=e.qs=e.listMethods=e.Loader=e.getGravatarUrl=e.GotoHashLink=e.formatDate=e.ObservableSubject=e.stretchToVH=e.smoothScroll=e.mobile=e.detectIE=e.cookies=e.classToggler=e.buildUserTokenUrl=void 0;var r=C(n(162)),o=C(n(163)),i=C(n(164)),a=T(n(53)),s=C(n(165)),u=C(n(166)),c=C(n(167)),l=C(n(168)),f=C(n(169)),p=C(n(171)),h=T(n(172)),d=C(n(173)),y=C(n(175)),v=T(n(4)),m=T(n(176)),b=C(n(177)),g=C(n(55)),w=C(n(182)),_=C(n(54)),E=C(n(56)),O=C(n(183)),S=C(n(184)),k=C(n(205));function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}e.buildUserTokenUrl=r.default,e.classToggler=o.default,e.cookies=i.default,e.detectIE=a,e.mobile=v,e.smoothScroll=d.default,e.stretchToVH=y.default,e.ObservableSubject=u.default,e.formatDate=c.default,e.GotoHashLink=l.default,e.getGravatarUrl=f.default,e.Loader=p.default,e.listMethods=h,e.qs=g.default,e.polyfils=b.default,e.slider=m,e.testCKE5Support=w.default,e.totalOffsetTop=_.default,e.transitionEnd=s.default,e.uid=E.default,e.updateURL=O.default,e.getRandomUser=S.default,e.getDocumentIdFromUrl=k.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t+"?"+Object.keys(e).filter(function(t){return e[t]}).map(function(t){return"user."+t+"="+e[t]}).join("&")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(!t||void 0===e||!n)return;e?t.classList.contains(n)||t.classList.add(n):t.classList.contains(n)&&t.classList.remove(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setCookie:function(t,e,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},getCookie:function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},removeCookie:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=function(){var t=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}();t.addEventListener(n,function r(){e(),t.removeEventListener(n,r)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=[];return{subscribe:function(e){t.push(e)},update:function(t){this.fire(t)},fire:function(e){t.forEach(function(t){return t(e)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.getMonth()+1,n=t.getDate();return[t.getFullYear(),(e>9?"":"0")+e,(n>9?"":"0")+n].join("-")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=window.location.hash;if(!e.length)return;var n=document.querySelector(e);if(!n)return;var i=t||(0,r.isPhoneSize)()?75:90;setTimeout(function(){return window.scrollTo(0,(0,o.default)(n)-i)},0)};var r=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(n(54))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="http://www.gravatar.com/avatar/";(e.secure||"https:"===location.protocol)&&(n="https://secure.gravatar.com/avatar/");var o=(0,r.default)(t.trim()),i=50;return""+n+o+"?s="+i};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(170))},function(t,e,n){"use strict";var r;"function"==typeof Symbol&&Symbol.iterator;!function(o){function i(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e,n,r,o,a){return i(function(t,e){return t<<e|t>>>32-e}(i(i(e,t),i(r,a)),o),n)}function s(t,e,n,r,o,i,s){return a(e&n|~e&r,t,e,o,i,s)}function u(t,e,n,r,o,i,s){return a(e&r|n&~r,t,e,o,i,s)}function c(t,e,n,r,o,i,s){return a(e^n^r,t,e,o,i,s)}function l(t,e,n,r,o,i,s){return a(n^(e|~r),t,e,o,i,s)}function f(t,e){var n,r,o,a,f;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var p=1732584193,h=-271733879,d=-1732584194,y=271733878;for(n=0;n<t.length;n+=16)r=p,o=h,a=d,f=y,h=l(h=l(h=l(h=l(h=c(h=c(h=c(h=c(h=u(h=u(h=u(h=u(h=s(h=s(h=s(h=s(h,d=s(d,y=s(y,p=s(p,h,d,y,t[n],7,-680876936),h,d,t[n+1],12,-389564586),p,h,t[n+2],17,606105819),y,p,t[n+3],22,-1044525330),d=s(d,y=s(y,p=s(p,h,d,y,t[n+4],7,-176418897),h,d,t[n+5],12,1200080426),p,h,t[n+6],17,-1473231341),y,p,t[n+7],22,-45705983),d=s(d,y=s(y,p=s(p,h,d,y,t[n+8],7,1770035416),h,d,t[n+9],12,-1958414417),p,h,t[n+10],17,-42063),y,p,t[n+11],22,-1990404162),d=s(d,y=s(y,p=s(p,h,d,y,t[n+12],7,1804603682),h,d,t[n+13],12,-40341101),p,h,t[n+14],17,-1502002290),y,p,t[n+15],22,1236535329),d=u(d,y=u(y,p=u(p,h,d,y,t[n+1],5,-165796510),h,d,t[n+6],9,-1069501632),p,h,t[n+11],14,643717713),y,p,t[n],20,-373897302),d=u(d,y=u(y,p=u(p,h,d,y,t[n+5],5,-701558691),h,d,t[n+10],9,38016083),p,h,t[n+15],14,-660478335),y,p,t[n+4],20,-405537848),d=u(d,y=u(y,p=u(p,h,d,y,t[n+9],5,568446438),h,d,t[n+14],9,-1019803690),p,h,t[n+3],14,-187363961),y,p,t[n+8],20,1163531501),d=u(d,y=u(y,p=u(p,h,d,y,t[n+13],5,-1444681467),h,d,t[n+2],9,-51403784),p,h,t[n+7],14,1735328473),y,p,t[n+12],20,-1926607734),d=c(d,y=c(y,p=c(p,h,d,y,t[n+5],4,-378558),h,d,t[n+8],11,-2022574463),p,h,t[n+11],16,1839030562),y,p,t[n+14],23,-35309556),d=c(d,y=c(y,p=c(p,h,d,y,t[n+1],4,-1530992060),h,d,t[n+4],11,1272893353),p,h,t[n+7],16,-155497632),y,p,t[n+10],23,-1094730640),d=c(d,y=c(y,p=c(p,h,d,y,t[n+13],4,681279174),h,d,t[n],11,-358537222),p,h,t[n+3],16,-722521979),y,p,t[n+6],23,76029189),d=c(d,y=c(y,p=c(p,h,d,y,t[n+9],4,-640364487),h,d,t[n+12],11,-421815835),p,h,t[n+15],16,530742520),y,p,t[n+2],23,-995338651),d=l(d,y=l(y,p=l(p,h,d,y,t[n],6,-198630844),h,d,t[n+7],10,1126891415),p,h,t[n+14],15,-1416354905),y,p,t[n+5],21,-57434055),d=l(d,y=l(y,p=l(p,h,d,y,t[n+12],6,1700485571),h,d,t[n+3],10,-1894986606),p,h,t[n+10],15,-1051523),y,p,t[n+1],21,-2054922799),d=l(d,y=l(y,p=l(p,h,d,y,t[n+8],6,1873313359),h,d,t[n+15],10,-30611744),p,h,t[n+6],15,-1560198380),y,p,t[n+13],21,1309151649),d=l(d,y=l(y,p=l(p,h,d,y,t[n+4],6,-145523070),h,d,t[n+11],10,-1120210379),p,h,t[n+2],15,718787259),y,p,t[n+9],21,-343485551),p=i(p,r),h=i(h,o),d=i(d,a),y=i(y,f);return[p,h,d,y]}function p(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function h(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function d(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function y(t){return unescape(encodeURIComponent(t))}function v(t){return function(t){return p(f(h(t),8*t.length))}(y(t))}function m(t,e){return function(t,e){var n,r,o=h(t),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=f(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=f(i.concat(h(e)),512+8*e.length),p(f(a.concat(r),640))}(y(t),y(e))}function b(t,e,n){return e?n?m(e,t):function(t,e){return d(m(t,e))}(e,t):n?v(t):function(t){return d(v(t))}(t)}void 0===(r=function(){return b}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.loaderWrapper,n=e.querySelector(".loader");return{show:function(){n||((n=document.createElement("div")).className="loader loader--active",n.innerHTML='\n\t\t\t<svg class="spinner" viewbox="25 25 50 50">\n\t\t\t\t<circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n\t\t\t</svg>\n\t\t',e.appendChild(n))},hide:function(t){function r(){n&&(e.removeChild(n),n=null,t&&"function"==typeof t&&t())}n.addEventListener("transitionend",r),n.classList.add("loader--fadeout"),setTimeout(function(){n&&(n.removeEventListener("transitionend",r),r())},600)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._each=function(t,e){Array.prototype.forEach.call(t,e)},e._some=function(t,e){Array.prototype.some.call(t,e)},e._map=function(t,e){return Array.prototype.map.call(t,e)},e._filter=function(t,e){return Array.prototype.filter.call(t,function(t){return e(t)})},e._find=function(t,e){return Array.prototype.find.call(t,function(t){return e(t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(new r.default).animateScroll(t,null,{ignore:"[data-scroll-ignore]",header:".menu",speed:600,offset:void 0!==e?e:(0,o.isPhoneSize)()?-25:-35,easing:"easeInOutQuad"})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(174)),o=n(4)},function(t,e,n){"use strict";(function(n){var r;"function"==typeof Symbol&&Symbol.iterator;!function(n,o){void 0===(r=function(){return o(n)}.apply(e,[]))||(t.exports=r)}(void 0!==n?n:"undefined"!=typeof window?window:void 0,function(t){var e="querySelector"in document&&"addEventListener"in t&&"requestAnimationFrame"in t&&"closest"in t.Element.prototype,n={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}},r=function(){for(var t={},e=0,n=arguments.length;e<n;e++){var r=arguments[e];!function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}(r)}return t},o=function(e){return parseInt(t.getComputedStyle(e).height,10)},i=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,n=String(t),r=n.length,o=-1,i="",a=n.charCodeAt(0);++o<r;){if(0===(e=n.charCodeAt(o)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");i+=e>=1&&e<=31||127==e||0===o&&e>=48&&e<=57||1===o&&e>=48&&e<=57&&45===a?"\\"+e.toString(16)+" ":e>=128||45===e||95===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122?n.charAt(o):"\\"+n.charAt(o)}return"#"+i},a=function(t){return t?o(t)+t.offsetTop:0};return function(o,s){var u,c,l,f,p,h,d,y={cancelScroll:function(){cancelAnimationFrame(d)}};y.animateScroll=function(e,o,i){var s=r(u||n,i||{}),c="[object Number]"===Object.prototype.toString.call(e),l=c||!e.tagName?null:e;if(c||l){var h=t.pageYOffset;s.header&&!f&&(f=document.querySelector(s.header)),p||(p=a(f));var d,v,m,b=c?e:function(t,e,n){var r=0;if(t.offsetParent)do{r+=t.offsetTop,t=t.offsetParent}while(t);return Math.max(r-e-n,0)}(l,p,parseInt("function"==typeof s.offset?s.offset():s.offset,10)),g=b-h,w=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),_=0,E=function(n,r){var i=t.pageYOffset;if(n==r||i==r||(h<r&&t.innerHeight+i)>=w)return y.cancelScroll(),function(e,n,r){r||(e.focus(),document.activeElement.id!==e.id&&(e.setAttribute("tabindex","-1"),e.focus(),e.style.outline="none"),t.scrollTo(0,n))}(e,r,c),s.after(e,o),d=null,!0};0===t.pageYOffset&&t.scrollTo(0,0),s.before(e,o),y.cancelScroll(),t.requestAnimationFrame(function e(n){d||(d=n),v=(_+=n-d)/parseInt(s.speed,10),m=h+g*function(t,e){var n;return"easeInQuad"===t.easing&&(n=e*e),"easeOutQuad"===t.easing&&(n=e*(2-e)),"easeInOutQuad"===t.easing&&(n=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t.easing&&(n=e*e*e),"easeOutCubic"===t.easing&&(n=--e*e*e+1),"easeInOutCubic"===t.easing&&(n=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t.easing&&(n=e*e*e*e),"easeOutQuart"===t.easing&&(n=1- --e*e*e*e),"easeInOutQuart"===t.easing&&(n=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t.easing&&(n=e*e*e*e*e),"easeOutQuint"===t.easing&&(n=1+--e*e*e*e*e),"easeInOutQuint"===t.easing&&(n=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),t.customEasing&&(n=t.customEasing(e)),n||e}(s,v=v>1?1:v),t.scrollTo(0,Math.floor(m)),E(m,b)||(t.requestAnimationFrame(e),d=n)})}};var v=function(t){c&&(c.id=c.getAttribute("data-scroll-id"),y.animateScroll(c,l),c=null,l=null)},m=function(e){if(!("matchMedia"in t&&t.matchMedia("(prefers-reduced-motion)").matches)&&0===e.button&&!e.metaKey&&!e.ctrlKey&&(l=e.target.closest(o))&&"a"===l.tagName.toLowerCase()&&!e.target.closest(u.ignore)&&l.hostname===t.location.hostname&&l.pathname===t.location.pathname&&/#/.test(l.href)){var n;try{n=i(decodeURIComponent(l.hash))}catch(t){n=i(l.hash)}if("#"===n){e.preventDefault();var r=(c=document.body).id?c.id:"smooth-scroll-top";return c.setAttribute("data-scroll-id",r),c.id="",void(t.location.hash.substring(1)===r?v():t.location.hash=r)}(c=document.querySelector(n))&&(c.setAttribute("data-scroll-id",c.id),c.id="",l.hash===t.location.hash&&(e.preventDefault(),v()))}},b=function(t){h||(h=setTimeout(function(){h=null,p=a(f)},66))};return y.destroy=function(){u&&(document.removeEventListener("click",m,!1),t.removeEventListener("resize",b,!1),y.cancelScroll(),u=null,c=null,l=null,f=null,p=null,h=null,d=null)},y.init=function(o){e&&(y.destroy(),u=r(n,o||{}),f=u.header?document.querySelector(u.header):null,p=a(f),document.addEventListener("click",m,!1),t.addEventListener("hashchange",v,!1),f&&t.addEventListener("resize",b,!1))},y.init(s),y}})}).call(e,n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!(0,r.isTabletSize)()&&!(0,r.isPhoneSize)())return;setTimeout(function(){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.style.height=e+"px"},0)};var r=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSliderRange=function(t){var e=0,n={};return t.forEach(function(r,o){o===t.length-1?n.max=[t[o]]:0===o?n.min=[t[o],t[o+1]-t[o]]:(e+=Math.round(100/(t.length-1)),n[e+"%"]=[t[o],t[o+1]-t[o]])}),n},e.getRangeValues=function(t){var e=Math.round(100/(t.length-1)),n={};return t.forEach(function(r,o){var i=o===t.length-1?100:e*o;n[i]=r}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={array:{includes:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o=0|e,i=Math.max(o>=0?o:r-Math.abs(o),0);function a(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}for(;i<r;){if(a(n[i],t))return!0;i++}return!1}})}},object:{assign:function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},writable:!0,configurable:!0})}}}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(179),i=n(180),a=n(181);function s(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}function u(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),o=Object.create(null);return"string"!=typeof t?o:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),r=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:a(i),n(a(r),i,o)}),Object.keys(o).sort().reduce(function(t,e){var n=o[e];return Boolean(n)&&"object"===(void 0===n?"undefined":r(n))&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"===(void 0===e?"undefined":r(e))?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):o}e.extract=u,e.parse=c,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[s(e,t),"[",r,"]"].join(""):[s(e,t),"[",s(r,t),"]=",s(n,t)].join("")};case"bracket":return function(e,n){return null===n?s(e,t):[s(e,t),"[]=",s(n,t)].join("")};default:return function(e,n){return null===n?s(e,t):[s(e,t),"=",s(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return s(r,e);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(t){void 0!==t&&i.push(n(r,t,i.length))}),i.join("&")}return s(r,e)+"="+s(o,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:c(u(t),e)}}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function a(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],a(n),a(r))}function s(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(o),n=1;n<e.length;n++)e=(t=a(e,n).join("")).match(o);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+(void 0===t?"undefined":r(t))+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=i.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),a=0;a<o.length;a++){var u=o[a];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!!(0,o.isMobile)()||!(0,r.ie11)()&&(!!/chrome/gi.test(navigator.userAgent)||(!/safari/gi.test(navigator.userAgent)||parseInt(/Version\/\d*\.\d(\.\d)?/gi.exec(navigator.userAgent)[0].split("/")[1])>=11))};var r=n(53),o=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(55));e.default=function(t){if(window.history.replaceState({},"",window.location.pathname+"?"+r.default.stringify(t)),"function"==typeof Event)window.dispatchEvent(new CustomEvent("qs-changed"));else{var e=document.createEvent("Event");e.initEvent("qs-changed",!0,!0),document.dispatchEvent(e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.polyfill)(),(0,o.default)({method:"get",url:"https://randomuser.me/api/?nat=gb,us",responseType:"json"}).then(function(t){var e=t.data.results[0];return{id:(0,i.default)(),email:e.email,name:s(e.name.first)+" "+s(e.name.last),avatar:e.picture.thumbnail}}).catch(function(t){throw t})};var r=n(185),o=a(n(186)),i=a(n(56));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,n){"use strict";(function(r,o){var i,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
!function(r,o){"object"===s(e)&&void 0!==t?t.exports=o():void 0===(a="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=a)}(0,function(){function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,i=void 0,a=void 0,u=function(t,e){y[n]=t,y[n+1]=e,2===(n+=2)&&(a?a(v):m())};var c="undefined"!=typeof window?window:void 0,l=c||{},f=l.MutationObserver||l.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var y=new Array(1e3);function v(){for(var t=0;t<n;t+=2){(0,y[t])(y[t+1]),y[t]=void 0,y[t+1]=void 0}n=0}var m=void 0;function b(t,e){var n=this,r=new this.constructor(_);void 0===r[w]&&L(r);var o=n._state;if(o){var i=arguments[o-1];u(function(){return N(o,r,i,n._result)})}else I(n,r,t,e);return r}function g(t){if(t&&"object"===(void 0===t?"undefined":s(t))&&t.constructor===this)return t;var e=new this(_);return j(e,t),e}m=p?function(){return r.nextTick(v)}:f?function(){var t=0,e=new f(v),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():h?function(){var t=new MessageChannel;return t.port1.onmessage=v,function(){return t.port2.postMessage(0)}}():void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:d()}catch(t){return d()}}():d();var w=Math.random().toString(36).substring(2);function _(){}var E=void 0,O=1,S=2,k={error:null};function T(t){try{return t.then}catch(t){return k.error=t,k}}function C(e,n,r){n.constructor===e.constructor&&r===b&&n.constructor.resolve===g?function(t,e){e._state===O?P(t,e._result):e._state===S?A(t,e._result):I(e,void 0,function(e){return j(t,e)},function(e){return A(t,e)})}(e,n):r===k?(A(e,k.error),k.error=null):void 0===r?P(e,n):t(r)?function(t,e,n){u(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?j(t,n):P(t,n))},function(e){r||(r=!0,A(t,e))},t._label);!r&&o&&(r=!0,A(t,o))},t)}(e,n,r):P(e,n)}function j(t,e){t===e?A(t,new TypeError("You cannot resolve a promise with itself")):!function(t){var e=void 0===t?"undefined":s(t);return null!==t&&("object"===e||"function"===e)}(e)?P(t,e):C(t,e,T(e))}function x(t){t._onerror&&t._onerror(t._result),M(t)}function P(t,e){t._state===E&&(t._result=e,t._state=O,0!==t._subscribers.length&&u(M,t))}function A(t,e){t._state===E&&(t._state=S,t._result=e,u(x,t))}function I(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+O]=n,o[i+S]=r,0===i&&t._state&&u(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?N(n,r,o,i):o(i);t._subscribers.length=0}}function N(e,n,r,o){var i=t(r),a=void 0,s=void 0,u=void 0,c=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return k.error=t,k}}(r,o))===k?(c=!0,s=a.error,a.error=null):u=!0,n===a)return void A(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;n._state!==E||(i&&u?j(n,a):c?A(n,s):e===O?P(n,a):e===S&&A(n,a))}var R=0;function L(t){t[w]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(_),this.promise[w]||L(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&P(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===E&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===g){var o=T(t);if(o===b&&t._state!==E)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(_);C(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===E&&(this._remaining--,t===S?A(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;I(t,void 0,function(t){return n._settledAt(O,e,t)},function(t){return n._settledAt(S,e,t)})},t}();var U=function(){function t(e){this[w]=R++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){j(t,e)},function(e){A(t,e)})}catch(e){A(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return U.prototype.then=b,U.all=function(t){return new D(this,t).promise},U.race=function(t){var n=this;return e(t)?new n(function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)}):new n(function(t,e){return e(new TypeError("You must pass an array to race."))})},U.resolve=g,U.reject=function(t){var e=new this(_);return A(e,t),e},U._setScheduler=function(t){a=t},U._setAsap=function(t){u=t},U._asap=u,U.polyfill=function(){var t=void 0;if(void 0!==o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=U},U.Promise=U,U})}).call(e,n(27),n(2))},function(t,e,n){"use strict";t.exports=n(187)},function(t,e,n){"use strict";var r=n(0),o=n(57),i=n(189),a=n(28);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=i,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(61),u.CancelToken=n(203),u.isCancel=n(60),u.all=function(t){return Promise.all(t)},u.spread=n(204),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(28),o=n(0),i=n(198),a=n(199),s=n(201),u=n(202);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url));var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){c.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){c.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=c},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(59);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e,n,o,i={};return t?(r.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),a="",s=0,u=r;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new o;e=e<<8|n}return a}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(200),i=n(60),a=n(28);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(61);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=window.location.href.split("#")[1]||"";if(/^doc/.test(t))return t.replace(/doc/g,"");return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{comments:{user:{id:"1",name:"Craig Duncan",email:"c.duncan@example.com",avatar:"https://randomuser.me/api/portraits/thumb/men/99.jpg"},comments:{thread1:["<p>Can we change the name of the event or is it too late?</p>"],thread2:["<p>I believe Frederico will be joined by his assistant. Could we mention his name as well?</p>"]}},content:'\n\t\t<h2 style="text-align:center;">\n\t\t\t<comment id="'+t+'-thread1" type="start"></comment>\n\t\t\tThe Flavorful Tuscany Meetup\n\t\t\t<comment id="'+t+'-thread1" type="end"></comment>\n\t\t</h2>\n\t\t<h3 style="text-align:center;">Welcome letter</h3>\n\t\t<p></p>\n\t\t<p>Dear Guest,</p>\n\t\t<p>We are delighted to welcome you to the annual <i>Flavorful Tuscany Meetup</i> and hope you will enjoy the programme as well as your stay at the <a href="https://ckeditor.com">Bilancino Hotel</a>.</p>\n\t\t<p>Please find below the full schedule of the event.</p>\n\t\t<ul>\n\t\t\t<li>9:30 AM - 11:30 AM Americano vs. Brewed - “know your coffee” session with <strong>Rita Fresco</strong></li>\n\t\t\t<li>1:00 PM - 3:00 PM Pappardelle al pomodoro - live cooking session with <strong>Stefano Garau</strong></li>\n\t\t\t<li>5:00 PM - 8:00 PM Tuscan vineyards at a glance - wine-tasting session with <strong><comment id="'+t+'-thread2" type="start"></comment>Frederico Riscoli<comment id="'+t+'-thread2" type="end"></comment></strong></li>\n\t\t</ul>\n\t\t<blockquote>\n\t\t\t<p>The annual Flavorful Tuscany meetups are always a culinary discovery. You get the best of Tuscan flavors during an intense one-day stay at one of the top hotels of the region. All the sessions are lead by top chefs passionate about their profession. I would certainly recommend to save the date in your calendar for this one!</p>\n\t\t\t<p>Angelina Calvino, food journalist</p>\n\t\t</blockquote>\n\t\t<p>Please arrive at the <a href="https://ckeditor.com">Bilancino Hotel</a> reception desk at least <strong>half an hour earlier</strong> to make sure that the registration process goes as smoothly as possible.</p>\n\t\t<p>We look forward to welcoming you to the event.</p>\n\t\t<p><strong>Victoria Valc</strong></p>\n\t\t<p><strong>Event Manager</strong></p>\n\t\t<p><strong>Bilancino Hotel</strong></p>\n\t'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={windowScroll:function(t){var e=null,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;t.forEach(function(t){return t(n)}),window.addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(function(){var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;t.forEach(function(t){return t(n)}),e=null},5)})},windowResize:function(t){var e=void 0,n=!1,r=200;function o(){new Date-e<r?setTimeout(o,r):(n=!1,t.forEach(function(t){return t(window.innerWidth,window.innerHeight)}))}t.forEach(function(t){return t(window.innerWidth,window.innerHeight)}),window.addEventListener("resize",function(){e=new Date,!1===n&&(n=!0,setTimeout(o,r))})},windowOrientationchange:function(t){window.addEventListener("orientationchange",function(){t.forEach(function(t){return t(window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape")})})}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.demoComments=e.demoContent=e.runConfig=void 0;var r=a(n(209)),o=a(n(210)),i=a(n(211));function a(t){return t&&t.__esModule?t:{default:t}}e.runConfig=r.default,e.demoContent=o.default,e.demoComments=i.default},function(t,e){t.exports={status:"active",cs:{tokenUrl:"https://33333.cke-cs.com/token/dev/icgEzhNjfuWBFYB8aZMC2dxBHmzwHVdmEUEXAay85VNLSBtK5dlxH4d5FqJU",websocketUrl:"33333.cke-cs.com/ws",uploadUrl:"https://33333.cke-cs.com/easyimage/upload/"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{default:{title:"Minimalism is the new black",body:'\n\t\t\t<comment id="'+t+'-thread1" type="start"></comment>\n\t\t\t\t<figure class="image ck ck-widget">\n\t\t\t\t\t<img src="/assets/images/bg/cactus-4a3eeb08fc.jpg">\n\t\t\t\t</figure>\n\t\t\t<comment id="'+t+'-thread1" type="end"></comment>\n\n\t\t\t<p><comment id="'+t+'-thread2" type="start"></comment>It is time to drop everything! All the extravagant purchases you keep making are not so trendy anymore. The new lifestyle trend comes with a motto:<comment id="'+t+'-thread2" type="end"></comment></p>\n\n\t\t\t<blockquote>\n\t\t\t\t<p>The simple is better.</p>\n\t\t\t</blockquote>\n\n\t\t\t<p>As the world is getting faster and more complicated, and sales is becoming more aggressive, people are going for simple things, just to create space or a moment. In a world where you constantly get updated, simple is the new comfort and richness.</p>\n\t\t'}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={user:{id:"1",name:"Lucas Lewis",email:"lucas.lewis58@example.com",avatar:"https://randomuser.me/api/portraits/thumb/men/1.jpg"},comments:{thread1:["<p>Do we have any image alternatives? I find this one a bit dull.</p>"],thread2:["<p>Could you please add couple more sentences, this is too short for an introduction.</p>"]}}}]).default});